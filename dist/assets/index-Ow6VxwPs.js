(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function Uc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bo={exports:{}},Cs={},Co={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hr=Symbol.for("react.element"),Vc=Symbol.for("react.portal"),Wc=Symbol.for("react.fragment"),Hc=Symbol.for("react.strict_mode"),Qc=Symbol.for("react.profiler"),qc=Symbol.for("react.provider"),Yc=Symbol.for("react.context"),Kc=Symbol.for("react.forward_ref"),Xc=Symbol.for("react.suspense"),Zc=Symbol.for("react.memo"),Gc=Symbol.for("react.lazy"),ua=Symbol.iterator;function Jc(e){return e===null||typeof e!="object"?null:(e=ua&&e[ua]||e["@@iterator"],typeof e=="function"?e:null)}var Eo={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Po=Object.assign,Do={};function Sn(e,t,n){this.props=e,this.context=t,this.refs=Do,this.updater=n||Eo}Sn.prototype.isReactComponent={};Sn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zo(){}zo.prototype=Sn.prototype;function pi(e,t,n){this.props=e,this.context=t,this.refs=Do,this.updater=n||Eo}var mi=pi.prototype=new zo;mi.constructor=pi;Po(mi,Sn.prototype);mi.isPureReactComponent=!0;var ca=Array.isArray,To=Object.prototype.hasOwnProperty,fi={current:null},_o={key:!0,ref:!0,__self:!0,__source:!0};function Mo(e,t,n){var s,l={},i=null,a=null;if(t!=null)for(s in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)To.call(t,s)&&!_o.hasOwnProperty(s)&&(l[s]=t[s]);var u=arguments.length-2;if(u===1)l.children=n;else if(1<u){for(var o=Array(u),m=0;m<u;m++)o[m]=arguments[m+2];l.children=o}if(e&&e.defaultProps)for(s in u=e.defaultProps,u)l[s]===void 0&&(l[s]=u[s]);return{$$typeof:hr,type:e,key:i,ref:a,props:l,_owner:fi.current}}function ed(e,t){return{$$typeof:hr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hi(e){return typeof e=="object"&&e!==null&&e.$$typeof===hr}function td(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var da=/\/+/g;function Us(e,t){return typeof e=="object"&&e!==null&&e.key!=null?td(""+e.key):t.toString(36)}function $r(e,t,n,s,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case hr:case Vc:a=!0}}if(a)return a=e,l=l(a),e=s===""?"."+Us(a,0):s,ca(l)?(n="",e!=null&&(n=e.replace(da,"$&/")+"/"),$r(l,t,n,"",function(m){return m})):l!=null&&(hi(l)&&(l=ed(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(da,"$&/")+"/")+e)),t.push(l)),1;if(a=0,s=s===""?".":s+":",ca(e))for(var u=0;u<e.length;u++){i=e[u];var o=s+Us(i,u);a+=$r(i,t,n,o,l)}else if(o=Jc(e),typeof o=="function")for(e=o.call(e),u=0;!(i=e.next()).done;)i=i.value,o=s+Us(i,u++),a+=$r(i,t,n,o,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function jr(e,t,n){if(e==null)return e;var s=[],l=0;return $r(e,s,"","",function(i){return t.call(n,i,l++)}),s}function nd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Se={current:null},Fr={transition:null},rd={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:Fr,ReactCurrentOwner:fi};function Io(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:jr,forEach:function(e,t,n){jr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return jr(e,function(){t++}),t},toArray:function(e){return jr(e,function(t){return t})||[]},only:function(e){if(!hi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Component=Sn;U.Fragment=Wc;U.Profiler=Qc;U.PureComponent=pi;U.StrictMode=Hc;U.Suspense=Xc;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rd;U.act=Io;U.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Po({},e.props),l=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=fi.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(o in t)To.call(t,o)&&!_o.hasOwnProperty(o)&&(s[o]=t[o]===void 0&&u!==void 0?u[o]:t[o])}var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){u=Array(o);for(var m=0;m<o;m++)u[m]=arguments[m+2];s.children=u}return{$$typeof:hr,type:e.type,key:l,ref:i,props:s,_owner:a}};U.createContext=function(e){return e={$$typeof:Yc,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qc,_context:e},e.Consumer=e};U.createElement=Mo;U.createFactory=function(e){var t=Mo.bind(null,e);return t.type=e,t};U.createRef=function(){return{current:null}};U.forwardRef=function(e){return{$$typeof:Kc,render:e}};U.isValidElement=hi;U.lazy=function(e){return{$$typeof:Gc,_payload:{_status:-1,_result:e},_init:nd}};U.memo=function(e,t){return{$$typeof:Zc,type:e,compare:t===void 0?null:t}};U.startTransition=function(e){var t=Fr.transition;Fr.transition={};try{e()}finally{Fr.transition=t}};U.unstable_act=Io;U.useCallback=function(e,t){return Se.current.useCallback(e,t)};U.useContext=function(e){return Se.current.useContext(e)};U.useDebugValue=function(){};U.useDeferredValue=function(e){return Se.current.useDeferredValue(e)};U.useEffect=function(e,t){return Se.current.useEffect(e,t)};U.useId=function(){return Se.current.useId()};U.useImperativeHandle=function(e,t,n){return Se.current.useImperativeHandle(e,t,n)};U.useInsertionEffect=function(e,t){return Se.current.useInsertionEffect(e,t)};U.useLayoutEffect=function(e,t){return Se.current.useLayoutEffect(e,t)};U.useMemo=function(e,t){return Se.current.useMemo(e,t)};U.useReducer=function(e,t,n){return Se.current.useReducer(e,t,n)};U.useRef=function(e){return Se.current.useRef(e)};U.useState=function(e){return Se.current.useState(e)};U.useSyncExternalStore=function(e,t,n){return Se.current.useSyncExternalStore(e,t,n)};U.useTransition=function(){return Se.current.useTransition()};U.version="18.3.1";Co.exports=U;var L=Co.exports;const sd=Uc(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ld=L,id=Symbol.for("react.element"),ad=Symbol.for("react.fragment"),od=Object.prototype.hasOwnProperty,ud=ld.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cd={key:!0,ref:!0,__self:!0,__source:!0};function Lo(e,t,n){var s,l={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(s in t)od.call(t,s)&&!cd.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:id,type:e,key:i,ref:a,props:l,_owner:ud.current}}Cs.Fragment=ad;Cs.jsx=Lo;Cs.jsxs=Lo;bo.exports=Cs;var r=bo.exports,Oo={exports:{}},Le={},Ro={exports:{}},Ao={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,R){var B=z.length;z.push(R);e:for(;0<B;){var Y=B-1>>>1,Z=z[Y];if(0<l(Z,R))z[Y]=R,z[B]=Z,B=Y;else break e}}function n(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var R=z[0],B=z.pop();if(B!==R){z[0]=B;e:for(var Y=0,Z=z.length,ce=Z>>>1;Y<ce;){var E=2*(Y+1)-1,I=z[E],C=E+1,A=z[C];if(0>l(I,B))C<Z&&0>l(A,I)?(z[Y]=A,z[C]=B,Y=C):(z[Y]=I,z[E]=B,Y=E);else if(C<Z&&0>l(A,B))z[Y]=A,z[C]=B,Y=C;else break e}}return R}function l(z,R){var B=z.sortIndex-R.sortIndex;return B!==0?B:z.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var o=[],m=[],g=1,f=null,x=3,w=!1,h=!1,N=!1,T=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function c(z){for(var R=n(m);R!==null;){if(R.callback===null)s(m);else if(R.startTime<=z)s(m),R.sortIndex=R.expirationTime,t(o,R);else break;R=n(m)}}function j(z){if(N=!1,c(z),!h)if(n(o)!==null)h=!0,te(S);else{var R=n(m);R!==null&&X(j,R.startTime-z)}}function S(z,R){h=!1,N&&(N=!1,d(b),b=-1),w=!0;var B=x;try{for(c(R),f=n(o);f!==null&&(!(f.expirationTime>R)||z&&!_());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,x=f.priorityLevel;var Z=Y(f.expirationTime<=R);R=e.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(o)&&s(o),c(R)}else s(o);f=n(o)}if(f!==null)var ce=!0;else{var E=n(m);E!==null&&X(j,E.startTime-R),ce=!1}return ce}finally{f=null,x=B,w=!1}}var k=!1,P=null,b=-1,v=5,y=-1;function _(){return!(e.unstable_now()-y<v)}function $(){if(P!==null){var z=e.unstable_now();y=z;var R=!0;try{R=P(!0,z)}finally{R?H():(k=!1,P=null)}}else k=!1}var H;if(typeof p=="function")H=function(){p($)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,q=ie.port2;ie.port1.onmessage=$,H=function(){q.postMessage(null)}}else H=function(){T($,0)};function te(z){P=z,k||(k=!0,H())}function X(z,R){b=T(function(){z(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){h||w||(h=!0,te(S))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(z){switch(x){case 1:case 2:case 3:var R=3;break;default:R=x}var B=x;x=R;try{return z()}finally{x=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,R){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var B=x;x=z;try{return R()}finally{x=B}},e.unstable_scheduleCallback=function(z,R,B){var Y=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Y+B:Y):B=Y,z){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=B+Z,z={id:g++,callback:R,priorityLevel:z,startTime:B,expirationTime:Z,sortIndex:-1},B>Y?(z.sortIndex=B,t(m,z),n(o)===null&&z===n(m)&&(N?(d(b),b=-1):N=!0,X(j,B-Y))):(z.sortIndex=Z,t(o,z),h||w||(h=!0,te(S))),z},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(z){var R=x;return function(){var B=x;x=R;try{return z.apply(this,arguments)}finally{x=B}}}})(Ao);Ro.exports=Ao;var dd=Ro.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd=L,Ie=dd;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bo=new Set,Zn={};function Yt(e,t){gn(e,t),gn(e+"Capture",t)}function gn(e,t){for(Zn[e]=t,e=0;e<t.length;e++)Bo.add(t[e])}var ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fl=Object.prototype.hasOwnProperty,md=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pa={},ma={};function fd(e){return fl.call(ma,e)?!0:fl.call(pa,e)?!1:md.test(e)?ma[e]=!0:(pa[e]=!0,!1)}function hd(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xd(e,t,n,s){if(t===null||typeof t>"u"||hd(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,n,s,l,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ge[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ge[t]=new be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ge[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ge[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ge[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ge[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ge[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ge[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ge[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var xi=/[\-:]([a-z])/g;function gi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xi,gi);ge[t]=new be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xi,gi);ge[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xi,gi);ge[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ge[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});ge.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ge[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function yi(e,t,n,s){var l=ge.hasOwnProperty(t)?ge[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xd(t,n,l,s)&&(n=null),s||l===null?fd(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var ft=pd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nr=Symbol.for("react.element"),Gt=Symbol.for("react.portal"),Jt=Symbol.for("react.fragment"),vi=Symbol.for("react.strict_mode"),hl=Symbol.for("react.profiler"),$o=Symbol.for("react.provider"),Fo=Symbol.for("react.context"),ji=Symbol.for("react.forward_ref"),xl=Symbol.for("react.suspense"),gl=Symbol.for("react.suspense_list"),Ni=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Uo=Symbol.for("react.offscreen"),fa=Symbol.iterator;function En(e){return e===null||typeof e!="object"?null:(e=fa&&e[fa]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,Vs;function On(e){if(Vs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vs=t&&t[1]||""}return`
`+Vs+e}var Ws=!1;function Hs(e,t){if(!e||Ws)return"";Ws=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var s=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){s=m}e.call(t.prototype)}else{try{throw Error()}catch(m){s=m}e()}}catch(m){if(m&&s&&typeof m.stack=="string"){for(var l=m.stack.split(`
`),i=s.stack.split(`
`),a=l.length-1,u=i.length-1;1<=a&&0<=u&&l[a]!==i[u];)u--;for(;1<=a&&0<=u;a--,u--)if(l[a]!==i[u]){if(a!==1||u!==1)do if(a--,u--,0>u||l[a]!==i[u]){var o=`
`+l[a].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=a&&0<=u);break}}}finally{Ws=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?On(e):""}function gd(e){switch(e.tag){case 5:return On(e.type);case 16:return On("Lazy");case 13:return On("Suspense");case 19:return On("SuspenseList");case 0:case 2:case 15:return e=Hs(e.type,!1),e;case 11:return e=Hs(e.type.render,!1),e;case 1:return e=Hs(e.type,!0),e;default:return""}}function yl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jt:return"Fragment";case Gt:return"Portal";case hl:return"Profiler";case vi:return"StrictMode";case xl:return"Suspense";case gl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fo:return(e.displayName||"Context")+".Consumer";case $o:return(e._context.displayName||"Context")+".Provider";case ji:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ni:return t=e.displayName||null,t!==null?t:yl(e.type)||"Memo";case xt:t=e._payload,e=e._init;try{return yl(e(t))}catch{}}return null}function yd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yl(t);case 8:return t===vi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vd(e){var t=Vo(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wr(e){e._valueTracker||(e._valueTracker=vd(e))}function Wo(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Vo(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function es(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vl(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ha(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=zt(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ho(e,t){t=t.checked,t!=null&&yi(e,"checked",t,!1)}function jl(e,t){Ho(e,t);var n=zt(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Nl(e,t.type,zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Nl(e,t,n){(t!=="number"||es(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rn=Array.isArray;function dn(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+zt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function wl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ga(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(Rn(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zt(n)}}function Qo(e,t){var n=zt(t.value),s=zt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function ya(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qo(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qo(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kr,Yo=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kr=kr||document.createElement("div"),kr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jd=["Webkit","ms","Moz","O"];Object.keys($n).forEach(function(e){jd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$n[t]=$n[e]})});function Ko(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$n.hasOwnProperty(e)&&$n[e]?(""+t).trim():t+"px"}function Xo(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=Ko(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var Nd=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sl(e,t){if(t){if(Nd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function bl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cl=null;function wi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var El=null,pn=null,mn=null;function va(e){if(e=yr(e)){if(typeof El!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Ts(t),El(e.stateNode,e.type,t))}}function Zo(e){pn?mn?mn.push(e):mn=[e]:pn=e}function Go(){if(pn){var e=pn,t=mn;if(mn=pn=null,va(e),t)for(e=0;e<t.length;e++)va(t[e])}}function Jo(e,t){return e(t)}function eu(){}var Qs=!1;function tu(e,t,n){if(Qs)return e(t,n);Qs=!0;try{return Jo(e,t,n)}finally{Qs=!1,(pn!==null||mn!==null)&&(eu(),Go())}}function Jn(e,t){var n=e.stateNode;if(n===null)return null;var s=Ts(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Pl=!1;if(ot)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{Pl=!1}function wd(e,t,n,s,l,i,a,u,o){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(g){this.onError(g)}}var Fn=!1,ts=null,ns=!1,Dl=null,kd={onError:function(e){Fn=!0,ts=e}};function Sd(e,t,n,s,l,i,a,u,o){Fn=!1,ts=null,wd.apply(kd,arguments)}function bd(e,t,n,s,l,i,a,u,o){if(Sd.apply(this,arguments),Fn){if(Fn){var m=ts;Fn=!1,ts=null}else throw Error(D(198));ns||(ns=!0,Dl=m)}}function Kt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ja(e){if(Kt(e)!==e)throw Error(D(188))}function Cd(e){var t=e.alternate;if(!t){if(t=Kt(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return ja(l),e;if(i===s)return ja(l),t;i=i.sibling}throw Error(D(188))}if(n.return!==s.return)n=l,s=i;else{for(var a=!1,u=l.child;u;){if(u===n){a=!0,n=l,s=i;break}if(u===s){a=!0,s=l,n=i;break}u=u.sibling}if(!a){for(u=i.child;u;){if(u===n){a=!0,n=i,s=l;break}if(u===s){a=!0,s=i,n=l;break}u=u.sibling}if(!a)throw Error(D(189))}}if(n.alternate!==s)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function ru(e){return e=Cd(e),e!==null?su(e):null}function su(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=su(e);if(t!==null)return t;e=e.sibling}return null}var lu=Ie.unstable_scheduleCallback,Na=Ie.unstable_cancelCallback,Ed=Ie.unstable_shouldYield,Pd=Ie.unstable_requestPaint,oe=Ie.unstable_now,Dd=Ie.unstable_getCurrentPriorityLevel,ki=Ie.unstable_ImmediatePriority,iu=Ie.unstable_UserBlockingPriority,rs=Ie.unstable_NormalPriority,zd=Ie.unstable_LowPriority,au=Ie.unstable_IdlePriority,Es=null,et=null;function Td(e){if(et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Es,e,void 0,(e.current.flags&128)===128)}catch{}}var qe=Math.clz32?Math.clz32:Id,_d=Math.log,Md=Math.LN2;function Id(e){return e>>>=0,e===0?32:31-(_d(e)/Md|0)|0}var Sr=64,br=4194304;function An(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ss(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var u=a&~l;u!==0?s=An(u):(i&=a,i!==0&&(s=An(i)))}else a=n&~l,a!==0?s=An(a):i!==0&&(s=An(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-qe(t),l=1<<n,s|=e[n],t&=~l;return s}function Ld(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Od(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-qe(i),u=1<<a,o=l[a];o===-1?(!(u&n)||u&s)&&(l[a]=Ld(u,t)):o<=t&&(e.expiredLanes|=u),i&=~u}}function zl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ou(){var e=Sr;return Sr<<=1,!(Sr&4194240)&&(Sr=64),e}function qs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qe(t),e[t]=n}function Rd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-qe(n),i=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~i}}function Si(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-qe(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var K=0;function uu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cu,bi,du,pu,mu,Tl=!1,Cr=[],wt=null,kt=null,St=null,er=new Map,tr=new Map,yt=[],Ad="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wa(e,t){switch(e){case"focusin":case"focusout":wt=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tr.delete(t.pointerId)}}function Dn(e,t,n,s,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[l]},t!==null&&(t=yr(t),t!==null&&bi(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Bd(e,t,n,s,l){switch(t){case"focusin":return wt=Dn(wt,e,t,n,s,l),!0;case"dragenter":return kt=Dn(kt,e,t,n,s,l),!0;case"mouseover":return St=Dn(St,e,t,n,s,l),!0;case"pointerover":var i=l.pointerId;return er.set(i,Dn(er.get(i)||null,e,t,n,s,l)),!0;case"gotpointercapture":return i=l.pointerId,tr.set(i,Dn(tr.get(i)||null,e,t,n,s,l)),!0}return!1}function fu(e){var t=At(e.target);if(t!==null){var n=Kt(t);if(n!==null){if(t=n.tag,t===13){if(t=nu(n),t!==null){e.blockedOn=t,mu(e.priority,function(){du(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ur(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_l(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Cl=s,n.target.dispatchEvent(s),Cl=null}else return t=yr(n),t!==null&&bi(t),e.blockedOn=n,!1;t.shift()}return!0}function ka(e,t,n){Ur(e)&&n.delete(t)}function $d(){Tl=!1,wt!==null&&Ur(wt)&&(wt=null),kt!==null&&Ur(kt)&&(kt=null),St!==null&&Ur(St)&&(St=null),er.forEach(ka),tr.forEach(ka)}function zn(e,t){e.blockedOn===t&&(e.blockedOn=null,Tl||(Tl=!0,Ie.unstable_scheduleCallback(Ie.unstable_NormalPriority,$d)))}function nr(e){function t(l){return zn(l,e)}if(0<Cr.length){zn(Cr[0],e);for(var n=1;n<Cr.length;n++){var s=Cr[n];s.blockedOn===e&&(s.blockedOn=null)}}for(wt!==null&&zn(wt,e),kt!==null&&zn(kt,e),St!==null&&zn(St,e),er.forEach(t),tr.forEach(t),n=0;n<yt.length;n++)s=yt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<yt.length&&(n=yt[0],n.blockedOn===null);)fu(n),n.blockedOn===null&&yt.shift()}var fn=ft.ReactCurrentBatchConfig,ls=!0;function Fd(e,t,n,s){var l=K,i=fn.transition;fn.transition=null;try{K=1,Ci(e,t,n,s)}finally{K=l,fn.transition=i}}function Ud(e,t,n,s){var l=K,i=fn.transition;fn.transition=null;try{K=4,Ci(e,t,n,s)}finally{K=l,fn.transition=i}}function Ci(e,t,n,s){if(ls){var l=_l(e,t,n,s);if(l===null)rl(e,t,s,is,n),wa(e,s);else if(Bd(l,e,t,n,s))s.stopPropagation();else if(wa(e,s),t&4&&-1<Ad.indexOf(e)){for(;l!==null;){var i=yr(l);if(i!==null&&cu(i),i=_l(e,t,n,s),i===null&&rl(e,t,s,is,n),i===l)break;l=i}l!==null&&s.stopPropagation()}else rl(e,t,s,null,n)}}var is=null;function _l(e,t,n,s){if(is=null,e=wi(s),e=At(e),e!==null)if(t=Kt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return is=e,null}function hu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dd()){case ki:return 1;case iu:return 4;case rs:case zd:return 16;case au:return 536870912;default:return 16}default:return 16}}var jt=null,Ei=null,Vr=null;function xu(){if(Vr)return Vr;var e,t=Ei,n=t.length,s,l="value"in jt?jt.value:jt.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(s=1;s<=a&&t[n-s]===l[i-s];s++);return Vr=l.slice(e,1<s?1-s:void 0)}function Wr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Er(){return!0}function Sa(){return!1}function Oe(e){function t(n,s,l,i,a){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Er:Sa,this.isPropagationStopped=Sa,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),t}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=Oe(bn),gr=le({},bn,{view:0,detail:0}),Vd=Oe(gr),Ys,Ks,Tn,Ps=le({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Di,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tn&&(Tn&&e.type==="mousemove"?(Ys=e.screenX-Tn.screenX,Ks=e.screenY-Tn.screenY):Ks=Ys=0,Tn=e),Ys)},movementY:function(e){return"movementY"in e?e.movementY:Ks}}),ba=Oe(Ps),Wd=le({},Ps,{dataTransfer:0}),Hd=Oe(Wd),Qd=le({},gr,{relatedTarget:0}),Xs=Oe(Qd),qd=le({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Yd=Oe(qd),Kd=le({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xd=Oe(Kd),Zd=le({},bn,{data:0}),Ca=Oe(Zd),Gd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ep[e])?!!t[e]:!1}function Di(){return tp}var np=le({},gr,{key:function(e){if(e.key){var t=Gd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Di,charCode:function(e){return e.type==="keypress"?Wr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rp=Oe(np),sp=le({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ea=Oe(sp),lp=le({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Di}),ip=Oe(lp),ap=le({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),op=Oe(ap),up=le({},Ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cp=Oe(up),dp=[9,13,27,32],zi=ot&&"CompositionEvent"in window,Un=null;ot&&"documentMode"in document&&(Un=document.documentMode);var pp=ot&&"TextEvent"in window&&!Un,gu=ot&&(!zi||Un&&8<Un&&11>=Un),Pa=" ",Da=!1;function yu(e,t){switch(e){case"keyup":return dp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var en=!1;function mp(e,t){switch(e){case"compositionend":return vu(t);case"keypress":return t.which!==32?null:(Da=!0,Pa);case"textInput":return e=t.data,e===Pa&&Da?null:e;default:return null}}function fp(e,t){if(en)return e==="compositionend"||!zi&&yu(e,t)?(e=xu(),Vr=Ei=jt=null,en=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gu&&t.locale!=="ko"?null:t.data;default:return null}}var hp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function za(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hp[e.type]:t==="textarea"}function ju(e,t,n,s){Zo(s),t=as(t,"onChange"),0<t.length&&(n=new Pi("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Vn=null,rr=null;function xp(e){Tu(e,0)}function Ds(e){var t=rn(e);if(Wo(t))return e}function gp(e,t){if(e==="change")return t}var Nu=!1;if(ot){var Zs;if(ot){var Gs="oninput"in document;if(!Gs){var Ta=document.createElement("div");Ta.setAttribute("oninput","return;"),Gs=typeof Ta.oninput=="function"}Zs=Gs}else Zs=!1;Nu=Zs&&(!document.documentMode||9<document.documentMode)}function _a(){Vn&&(Vn.detachEvent("onpropertychange",wu),rr=Vn=null)}function wu(e){if(e.propertyName==="value"&&Ds(rr)){var t=[];ju(t,rr,e,wi(e)),tu(xp,t)}}function yp(e,t,n){e==="focusin"?(_a(),Vn=t,rr=n,Vn.attachEvent("onpropertychange",wu)):e==="focusout"&&_a()}function vp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ds(rr)}function jp(e,t){if(e==="click")return Ds(t)}function Np(e,t){if(e==="input"||e==="change")return Ds(t)}function wp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xe=typeof Object.is=="function"?Object.is:wp;function sr(e,t){if(Xe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!fl.call(t,l)||!Xe(e[l],t[l]))return!1}return!0}function Ma(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ia(e,t){var n=Ma(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ma(n)}}function ku(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ku(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Su(){for(var e=window,t=es();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=es(e.document)}return t}function Ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kp(e){var t=Su(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ku(n.ownerDocument.documentElement,n)){if(s!==null&&Ti(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(s.start,l);s=s.end===void 0?i:Math.min(s.end,l),!e.extend&&i>s&&(l=s,s=i,i=l),l=Ia(n,i);var a=Ia(n,s);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sp=ot&&"documentMode"in document&&11>=document.documentMode,tn=null,Ml=null,Wn=null,Il=!1;function La(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Il||tn==null||tn!==es(s)||(s=tn,"selectionStart"in s&&Ti(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Wn&&sr(Wn,s)||(Wn=s,s=as(Ml,"onSelect"),0<s.length&&(t=new Pi("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=tn)))}function Pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var nn={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionend:Pr("Transition","TransitionEnd")},Js={},bu={};ot&&(bu=document.createElement("div").style,"AnimationEvent"in window||(delete nn.animationend.animation,delete nn.animationiteration.animation,delete nn.animationstart.animation),"TransitionEvent"in window||delete nn.transitionend.transition);function zs(e){if(Js[e])return Js[e];if(!nn[e])return e;var t=nn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bu)return Js[e]=t[n];return e}var Cu=zs("animationend"),Eu=zs("animationiteration"),Pu=zs("animationstart"),Du=zs("transitionend"),zu=new Map,Oa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mt(e,t){zu.set(e,t),Yt(t,[e])}for(var el=0;el<Oa.length;el++){var tl=Oa[el],bp=tl.toLowerCase(),Cp=tl[0].toUpperCase()+tl.slice(1);Mt(bp,"on"+Cp)}Mt(Cu,"onAnimationEnd");Mt(Eu,"onAnimationIteration");Mt(Pu,"onAnimationStart");Mt("dblclick","onDoubleClick");Mt("focusin","onFocus");Mt("focusout","onBlur");Mt(Du,"onTransitionEnd");gn("onMouseEnter",["mouseout","mouseover"]);gn("onMouseLeave",["mouseout","mouseover"]);gn("onPointerEnter",["pointerout","pointerover"]);gn("onPointerLeave",["pointerout","pointerover"]);Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ep=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bn));function Ra(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,bd(s,t,void 0,e),e.currentTarget=null}function Tu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var a=s.length-1;0<=a;a--){var u=s[a],o=u.instance,m=u.currentTarget;if(u=u.listener,o!==i&&l.isPropagationStopped())break e;Ra(l,u,m),i=o}else for(a=0;a<s.length;a++){if(u=s[a],o=u.instance,m=u.currentTarget,u=u.listener,o!==i&&l.isPropagationStopped())break e;Ra(l,u,m),i=o}}}if(ns)throw e=Dl,ns=!1,Dl=null,e}function J(e,t){var n=t[Bl];n===void 0&&(n=t[Bl]=new Set);var s=e+"__bubble";n.has(s)||(_u(t,e,2,!1),n.add(s))}function nl(e,t,n){var s=0;t&&(s|=4),_u(n,e,s,t)}var Dr="_reactListening"+Math.random().toString(36).slice(2);function lr(e){if(!e[Dr]){e[Dr]=!0,Bo.forEach(function(n){n!=="selectionchange"&&(Ep.has(n)||nl(n,!1,e),nl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dr]||(t[Dr]=!0,nl("selectionchange",!1,t))}}function _u(e,t,n,s){switch(hu(t)){case 1:var l=Fd;break;case 4:l=Ud;break;default:l=Ci}n=l.bind(null,t,n,e),l=void 0,!Pl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function rl(e,t,n,s,l){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var u=s.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(a===4)for(a=s.return;a!==null;){var o=a.tag;if((o===3||o===4)&&(o=a.stateNode.containerInfo,o===l||o.nodeType===8&&o.parentNode===l))return;a=a.return}for(;u!==null;){if(a=At(u),a===null)return;if(o=a.tag,o===5||o===6){s=i=a;continue e}u=u.parentNode}}s=s.return}tu(function(){var m=i,g=wi(n),f=[];e:{var x=zu.get(e);if(x!==void 0){var w=Pi,h=e;switch(e){case"keypress":if(Wr(n)===0)break e;case"keydown":case"keyup":w=rp;break;case"focusin":h="focus",w=Xs;break;case"focusout":h="blur",w=Xs;break;case"beforeblur":case"afterblur":w=Xs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Hd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=ip;break;case Cu:case Eu:case Pu:w=Yd;break;case Du:w=op;break;case"scroll":w=Vd;break;case"wheel":w=cp;break;case"copy":case"cut":case"paste":w=Xd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Ea}var N=(t&4)!==0,T=!N&&e==="scroll",d=N?x!==null?x+"Capture":null:x;N=[];for(var p=m,c;p!==null;){c=p;var j=c.stateNode;if(c.tag===5&&j!==null&&(c=j,d!==null&&(j=Jn(p,d),j!=null&&N.push(ir(p,j,c)))),T)break;p=p.return}0<N.length&&(x=new w(x,h,null,n,g),f.push({event:x,listeners:N}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",x&&n!==Cl&&(h=n.relatedTarget||n.fromElement)&&(At(h)||h[ut]))break e;if((w||x)&&(x=g.window===g?g:(x=g.ownerDocument)?x.defaultView||x.parentWindow:window,w?(h=n.relatedTarget||n.toElement,w=m,h=h?At(h):null,h!==null&&(T=Kt(h),h!==T||h.tag!==5&&h.tag!==6)&&(h=null)):(w=null,h=m),w!==h)){if(N=ba,j="onMouseLeave",d="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(N=Ea,j="onPointerLeave",d="onPointerEnter",p="pointer"),T=w==null?x:rn(w),c=h==null?x:rn(h),x=new N(j,p+"leave",w,n,g),x.target=T,x.relatedTarget=c,j=null,At(g)===m&&(N=new N(d,p+"enter",h,n,g),N.target=c,N.relatedTarget=T,j=N),T=j,w&&h)t:{for(N=w,d=h,p=0,c=N;c;c=Zt(c))p++;for(c=0,j=d;j;j=Zt(j))c++;for(;0<p-c;)N=Zt(N),p--;for(;0<c-p;)d=Zt(d),c--;for(;p--;){if(N===d||d!==null&&N===d.alternate)break t;N=Zt(N),d=Zt(d)}N=null}else N=null;w!==null&&Aa(f,x,w,N,!1),h!==null&&T!==null&&Aa(f,T,h,N,!0)}}e:{if(x=m?rn(m):window,w=x.nodeName&&x.nodeName.toLowerCase(),w==="select"||w==="input"&&x.type==="file")var S=gp;else if(za(x))if(Nu)S=Np;else{S=vp;var k=yp}else(w=x.nodeName)&&w.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(S=jp);if(S&&(S=S(e,m))){ju(f,S,n,g);break e}k&&k(e,x,m),e==="focusout"&&(k=x._wrapperState)&&k.controlled&&x.type==="number"&&Nl(x,"number",x.value)}switch(k=m?rn(m):window,e){case"focusin":(za(k)||k.contentEditable==="true")&&(tn=k,Ml=m,Wn=null);break;case"focusout":Wn=Ml=tn=null;break;case"mousedown":Il=!0;break;case"contextmenu":case"mouseup":case"dragend":Il=!1,La(f,n,g);break;case"selectionchange":if(Sp)break;case"keydown":case"keyup":La(f,n,g)}var P;if(zi)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else en?yu(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(gu&&n.locale!=="ko"&&(en||b!=="onCompositionStart"?b==="onCompositionEnd"&&en&&(P=xu()):(jt=g,Ei="value"in jt?jt.value:jt.textContent,en=!0)),k=as(m,b),0<k.length&&(b=new Ca(b,e,null,n,g),f.push({event:b,listeners:k}),P?b.data=P:(P=vu(n),P!==null&&(b.data=P)))),(P=pp?mp(e,n):fp(e,n))&&(m=as(m,"onBeforeInput"),0<m.length&&(g=new Ca("onBeforeInput","beforeinput",null,n,g),f.push({event:g,listeners:m}),g.data=P))}Tu(f,t)})}function ir(e,t,n){return{instance:e,listener:t,currentTarget:n}}function as(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=Jn(e,n),i!=null&&s.unshift(ir(e,i,l)),i=Jn(e,t),i!=null&&s.push(ir(e,i,l))),e=e.return}return s}function Zt(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Aa(e,t,n,s,l){for(var i=t._reactName,a=[];n!==null&&n!==s;){var u=n,o=u.alternate,m=u.stateNode;if(o!==null&&o===s)break;u.tag===5&&m!==null&&(u=m,l?(o=Jn(n,i),o!=null&&a.unshift(ir(n,o,u))):l||(o=Jn(n,i),o!=null&&a.push(ir(n,o,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Pp=/\r\n?/g,Dp=/\u0000|\uFFFD/g;function Ba(e){return(typeof e=="string"?e:""+e).replace(Pp,`
`).replace(Dp,"")}function zr(e,t,n){if(t=Ba(t),Ba(e)!==t&&n)throw Error(D(425))}function os(){}var Ll=null,Ol=null;function Rl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Al=typeof setTimeout=="function"?setTimeout:void 0,zp=typeof clearTimeout=="function"?clearTimeout:void 0,$a=typeof Promise=="function"?Promise:void 0,Tp=typeof queueMicrotask=="function"?queueMicrotask:typeof $a<"u"?function(e){return $a.resolve(null).then(e).catch(_p)}:Al;function _p(e){setTimeout(function(){throw e})}function sl(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),nr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);nr(t)}function bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Cn=Math.random().toString(36).slice(2),Je="__reactFiber$"+Cn,ar="__reactProps$"+Cn,ut="__reactContainer$"+Cn,Bl="__reactEvents$"+Cn,Mp="__reactListeners$"+Cn,Ip="__reactHandles$"+Cn;function At(e){var t=e[Je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ut]||n[Je]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fa(e);e!==null;){if(n=e[Je])return n;e=Fa(e)}return t}e=n,n=e.parentNode}return null}function yr(e){return e=e[Je]||e[ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Ts(e){return e[ar]||null}var $l=[],sn=-1;function It(e){return{current:e}}function ee(e){0>sn||(e.current=$l[sn],$l[sn]=null,sn--)}function G(e,t){sn++,$l[sn]=e.current,e.current=t}var Tt={},Ne=It(Tt),Pe=It(!1),Vt=Tt;function yn(e,t){var n=e.type.contextTypes;if(!n)return Tt;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function De(e){return e=e.childContextTypes,e!=null}function us(){ee(Pe),ee(Ne)}function Ua(e,t,n){if(Ne.current!==Tt)throw Error(D(168));G(Ne,t),G(Pe,n)}function Mu(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(D(108,yd(e)||"Unknown",l));return le({},n,s)}function cs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tt,Vt=Ne.current,G(Ne,e),G(Pe,Pe.current),!0}function Va(e,t,n){var s=e.stateNode;if(!s)throw Error(D(169));n?(e=Mu(e,t,Vt),s.__reactInternalMemoizedMergedChildContext=e,ee(Pe),ee(Ne),G(Ne,e)):ee(Pe),G(Pe,n)}var rt=null,_s=!1,ll=!1;function Iu(e){rt===null?rt=[e]:rt.push(e)}function Lp(e){_s=!0,Iu(e)}function Lt(){if(!ll&&rt!==null){ll=!0;var e=0,t=K;try{var n=rt;for(K=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}rt=null,_s=!1}catch(l){throw rt!==null&&(rt=rt.slice(e+1)),lu(ki,Lt),l}finally{K=t,ll=!1}}return null}var ln=[],an=0,ds=null,ps=0,Re=[],Ae=0,Wt=null,lt=1,it="";function Ot(e,t){ln[an++]=ps,ln[an++]=ds,ds=e,ps=t}function Lu(e,t,n){Re[Ae++]=lt,Re[Ae++]=it,Re[Ae++]=Wt,Wt=e;var s=lt;e=it;var l=32-qe(s)-1;s&=~(1<<l),n+=1;var i=32-qe(t)+l;if(30<i){var a=l-l%5;i=(s&(1<<a)-1).toString(32),s>>=a,l-=a,lt=1<<32-qe(t)+l|n<<l|s,it=i+e}else lt=1<<i|n<<l|s,it=e}function _i(e){e.return!==null&&(Ot(e,1),Lu(e,1,0))}function Mi(e){for(;e===ds;)ds=ln[--an],ln[an]=null,ps=ln[--an],ln[an]=null;for(;e===Wt;)Wt=Re[--Ae],Re[Ae]=null,it=Re[--Ae],Re[Ae]=null,lt=Re[--Ae],Re[Ae]=null}var Me=null,_e=null,ne=!1,Qe=null;function Ou(e,t){var n=Be(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Wa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Me=e,_e=bt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Me=e,_e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wt!==null?{id:lt,overflow:it}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Be(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Me=e,_e=null,!0):!1;default:return!1}}function Fl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ul(e){if(ne){var t=_e;if(t){var n=t;if(!Wa(e,t)){if(Fl(e))throw Error(D(418));t=bt(n.nextSibling);var s=Me;t&&Wa(e,t)?Ou(s,n):(e.flags=e.flags&-4097|2,ne=!1,Me=e)}}else{if(Fl(e))throw Error(D(418));e.flags=e.flags&-4097|2,ne=!1,Me=e}}}function Ha(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Me=e}function Tr(e){if(e!==Me)return!1;if(!ne)return Ha(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rl(e.type,e.memoizedProps)),t&&(t=_e)){if(Fl(e))throw Ru(),Error(D(418));for(;t;)Ou(e,t),t=bt(t.nextSibling)}if(Ha(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_e=bt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_e=null}}else _e=Me?bt(e.stateNode.nextSibling):null;return!0}function Ru(){for(var e=_e;e;)e=bt(e.nextSibling)}function vn(){_e=Me=null,ne=!1}function Ii(e){Qe===null?Qe=[e]:Qe.push(e)}var Op=ft.ReactCurrentBatchConfig;function _n(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var s=n.stateNode}if(!s)throw Error(D(147,e));var l=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var u=l.refs;a===null?delete u[i]:u[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function _r(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){var t=e._init;return t(e._payload)}function Au(e){function t(d,p){if(e){var c=d.deletions;c===null?(d.deletions=[p],d.flags|=16):c.push(p)}}function n(d,p){if(!e)return null;for(;p!==null;)t(d,p),p=p.sibling;return null}function s(d,p){for(d=new Map;p!==null;)p.key!==null?d.set(p.key,p):d.set(p.index,p),p=p.sibling;return d}function l(d,p){return d=Dt(d,p),d.index=0,d.sibling=null,d}function i(d,p,c){return d.index=c,e?(c=d.alternate,c!==null?(c=c.index,c<p?(d.flags|=2,p):c):(d.flags|=2,p)):(d.flags|=1048576,p)}function a(d){return e&&d.alternate===null&&(d.flags|=2),d}function u(d,p,c,j){return p===null||p.tag!==6?(p=pl(c,d.mode,j),p.return=d,p):(p=l(p,c),p.return=d,p)}function o(d,p,c,j){var S=c.type;return S===Jt?g(d,p,c.props.children,j,c.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xt&&Qa(S)===p.type)?(j=l(p,c.props),j.ref=_n(d,p,c),j.return=d,j):(j=Zr(c.type,c.key,c.props,null,d.mode,j),j.ref=_n(d,p,c),j.return=d,j)}function m(d,p,c,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==c.containerInfo||p.stateNode.implementation!==c.implementation?(p=ml(c,d.mode,j),p.return=d,p):(p=l(p,c.children||[]),p.return=d,p)}function g(d,p,c,j,S){return p===null||p.tag!==7?(p=Ut(c,d.mode,j,S),p.return=d,p):(p=l(p,c),p.return=d,p)}function f(d,p,c){if(typeof p=="string"&&p!==""||typeof p=="number")return p=pl(""+p,d.mode,c),p.return=d,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Nr:return c=Zr(p.type,p.key,p.props,null,d.mode,c),c.ref=_n(d,null,p),c.return=d,c;case Gt:return p=ml(p,d.mode,c),p.return=d,p;case xt:var j=p._init;return f(d,j(p._payload),c)}if(Rn(p)||En(p))return p=Ut(p,d.mode,c,null),p.return=d,p;_r(d,p)}return null}function x(d,p,c,j){var S=p!==null?p.key:null;if(typeof c=="string"&&c!==""||typeof c=="number")return S!==null?null:u(d,p,""+c,j);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Nr:return c.key===S?o(d,p,c,j):null;case Gt:return c.key===S?m(d,p,c,j):null;case xt:return S=c._init,x(d,p,S(c._payload),j)}if(Rn(c)||En(c))return S!==null?null:g(d,p,c,j,null);_r(d,c)}return null}function w(d,p,c,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return d=d.get(c)||null,u(p,d,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Nr:return d=d.get(j.key===null?c:j.key)||null,o(p,d,j,S);case Gt:return d=d.get(j.key===null?c:j.key)||null,m(p,d,j,S);case xt:var k=j._init;return w(d,p,c,k(j._payload),S)}if(Rn(j)||En(j))return d=d.get(c)||null,g(p,d,j,S,null);_r(p,j)}return null}function h(d,p,c,j){for(var S=null,k=null,P=p,b=p=0,v=null;P!==null&&b<c.length;b++){P.index>b?(v=P,P=null):v=P.sibling;var y=x(d,P,c[b],j);if(y===null){P===null&&(P=v);break}e&&P&&y.alternate===null&&t(d,P),p=i(y,p,b),k===null?S=y:k.sibling=y,k=y,P=v}if(b===c.length)return n(d,P),ne&&Ot(d,b),S;if(P===null){for(;b<c.length;b++)P=f(d,c[b],j),P!==null&&(p=i(P,p,b),k===null?S=P:k.sibling=P,k=P);return ne&&Ot(d,b),S}for(P=s(d,P);b<c.length;b++)v=w(P,d,b,c[b],j),v!==null&&(e&&v.alternate!==null&&P.delete(v.key===null?b:v.key),p=i(v,p,b),k===null?S=v:k.sibling=v,k=v);return e&&P.forEach(function(_){return t(d,_)}),ne&&Ot(d,b),S}function N(d,p,c,j){var S=En(c);if(typeof S!="function")throw Error(D(150));if(c=S.call(c),c==null)throw Error(D(151));for(var k=S=null,P=p,b=p=0,v=null,y=c.next();P!==null&&!y.done;b++,y=c.next()){P.index>b?(v=P,P=null):v=P.sibling;var _=x(d,P,y.value,j);if(_===null){P===null&&(P=v);break}e&&P&&_.alternate===null&&t(d,P),p=i(_,p,b),k===null?S=_:k.sibling=_,k=_,P=v}if(y.done)return n(d,P),ne&&Ot(d,b),S;if(P===null){for(;!y.done;b++,y=c.next())y=f(d,y.value,j),y!==null&&(p=i(y,p,b),k===null?S=y:k.sibling=y,k=y);return ne&&Ot(d,b),S}for(P=s(d,P);!y.done;b++,y=c.next())y=w(P,d,b,y.value,j),y!==null&&(e&&y.alternate!==null&&P.delete(y.key===null?b:y.key),p=i(y,p,b),k===null?S=y:k.sibling=y,k=y);return e&&P.forEach(function($){return t(d,$)}),ne&&Ot(d,b),S}function T(d,p,c,j){if(typeof c=="object"&&c!==null&&c.type===Jt&&c.key===null&&(c=c.props.children),typeof c=="object"&&c!==null){switch(c.$$typeof){case Nr:e:{for(var S=c.key,k=p;k!==null;){if(k.key===S){if(S=c.type,S===Jt){if(k.tag===7){n(d,k.sibling),p=l(k,c.props.children),p.return=d,d=p;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xt&&Qa(S)===k.type){n(d,k.sibling),p=l(k,c.props),p.ref=_n(d,k,c),p.return=d,d=p;break e}n(d,k);break}else t(d,k);k=k.sibling}c.type===Jt?(p=Ut(c.props.children,d.mode,j,c.key),p.return=d,d=p):(j=Zr(c.type,c.key,c.props,null,d.mode,j),j.ref=_n(d,p,c),j.return=d,d=j)}return a(d);case Gt:e:{for(k=c.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===c.containerInfo&&p.stateNode.implementation===c.implementation){n(d,p.sibling),p=l(p,c.children||[]),p.return=d,d=p;break e}else{n(d,p);break}else t(d,p);p=p.sibling}p=ml(c,d.mode,j),p.return=d,d=p}return a(d);case xt:return k=c._init,T(d,p,k(c._payload),j)}if(Rn(c))return h(d,p,c,j);if(En(c))return N(d,p,c,j);_r(d,c)}return typeof c=="string"&&c!==""||typeof c=="number"?(c=""+c,p!==null&&p.tag===6?(n(d,p.sibling),p=l(p,c),p.return=d,d=p):(n(d,p),p=pl(c,d.mode,j),p.return=d,d=p),a(d)):n(d,p)}return T}var jn=Au(!0),Bu=Au(!1),ms=It(null),fs=null,on=null,Li=null;function Oi(){Li=on=fs=null}function Ri(e){var t=ms.current;ee(ms),e._currentValue=t}function Vl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function hn(e,t){fs=e,Li=on=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ee=!0),e.firstContext=null)}function Fe(e){var t=e._currentValue;if(Li!==e)if(e={context:e,memoizedValue:t,next:null},on===null){if(fs===null)throw Error(D(308));on=e,fs.dependencies={lanes:0,firstContext:e}}else on=on.next=e;return t}var Bt=null;function Ai(e){Bt===null?Bt=[e]:Bt.push(e)}function $u(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,Ai(t)):(n.next=l.next,l.next=n),t.interleaved=n,ct(e,s)}function ct(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var gt=!1;function Bi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function at(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ct(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Q&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,ct(e,n)}return l=s.interleaved,l===null?(t.next=t,Ai(s)):(t.next=l.next,l.next=t),s.interleaved=t,ct(e,n)}function Hr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Si(e,n)}}function qa(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hs(e,t,n,s){var l=e.updateQueue;gt=!1;var i=l.firstBaseUpdate,a=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var o=u,m=o.next;o.next=null,a===null?i=m:a.next=m,a=o;var g=e.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==a&&(u===null?g.firstBaseUpdate=m:u.next=m,g.lastBaseUpdate=o))}if(i!==null){var f=l.baseState;a=0,g=m=o=null,u=i;do{var x=u.lane,w=u.eventTime;if((s&x)===x){g!==null&&(g=g.next={eventTime:w,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var h=e,N=u;switch(x=t,w=n,N.tag){case 1:if(h=N.payload,typeof h=="function"){f=h.call(w,f,x);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=N.payload,x=typeof h=="function"?h.call(w,f,x):h,x==null)break e;f=le({},f,x);break e;case 2:gt=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,x=l.effects,x===null?l.effects=[u]:x.push(u))}else w={eventTime:w,lane:x,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(m=g=w,o=f):g=g.next=w,a|=x;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;x=u,u=x.next,x.next=null,l.lastBaseUpdate=x,l.shared.pending=null}}while(!0);if(g===null&&(o=f),l.baseState=o,l.firstBaseUpdate=m,l.lastBaseUpdate=g,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Qt|=a,e.lanes=a,e.memoizedState=f}}function Ya(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(D(191,l));l.call(s)}}}var vr={},tt=It(vr),or=It(vr),ur=It(vr);function $t(e){if(e===vr)throw Error(D(174));return e}function $i(e,t){switch(G(ur,t),G(or,e),G(tt,vr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kl(t,e)}ee(tt),G(tt,t)}function Nn(){ee(tt),ee(or),ee(ur)}function Uu(e){$t(ur.current);var t=$t(tt.current),n=kl(t,e.type);t!==n&&(G(or,e),G(tt,n))}function Fi(e){or.current===e&&(ee(tt),ee(or))}var re=It(0);function xs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var il=[];function Ui(){for(var e=0;e<il.length;e++)il[e]._workInProgressVersionPrimary=null;il.length=0}var Qr=ft.ReactCurrentDispatcher,al=ft.ReactCurrentBatchConfig,Ht=0,se=null,de=null,me=null,gs=!1,Hn=!1,cr=0,Rp=0;function ye(){throw Error(D(321))}function Vi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xe(e[n],t[n]))return!1;return!0}function Wi(e,t,n,s,l,i){if(Ht=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qr.current=e===null||e.memoizedState===null?Fp:Up,e=n(s,l),Hn){i=0;do{if(Hn=!1,cr=0,25<=i)throw Error(D(301));i+=1,me=de=null,t.updateQueue=null,Qr.current=Vp,e=n(s,l)}while(Hn)}if(Qr.current=ys,t=de!==null&&de.next!==null,Ht=0,me=de=se=null,gs=!1,t)throw Error(D(300));return e}function Hi(){var e=cr!==0;return cr=0,e}function Ge(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?se.memoizedState=me=e:me=me.next=e,me}function Ue(){if(de===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=me===null?se.memoizedState:me.next;if(t!==null)me=t,de=e;else{if(e===null)throw Error(D(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},me===null?se.memoizedState=me=e:me=me.next=e}return me}function dr(e,t){return typeof t=="function"?t(e):t}function ol(e){var t=Ue(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var s=de,l=s.baseQueue,i=n.pending;if(i!==null){if(l!==null){var a=l.next;l.next=i.next,i.next=a}s.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,s=s.baseState;var u=a=null,o=null,m=i;do{var g=m.lane;if((Ht&g)===g)o!==null&&(o=o.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),s=m.hasEagerState?m.eagerState:e(s,m.action);else{var f={lane:g,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};o===null?(u=o=f,a=s):o=o.next=f,se.lanes|=g,Qt|=g}m=m.next}while(m!==null&&m!==i);o===null?a=s:o.next=u,Xe(s,t.memoizedState)||(Ee=!0),t.memoizedState=s,t.baseState=a,t.baseQueue=o,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do i=l.lane,se.lanes|=i,Qt|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ul(e){var t=Ue(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do i=e(i,a.action),a=a.next;while(a!==l);Xe(i,t.memoizedState)||(Ee=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function Vu(){}function Wu(e,t){var n=se,s=Ue(),l=t(),i=!Xe(s.memoizedState,l);if(i&&(s.memoizedState=l,Ee=!0),s=s.queue,Qi(qu.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,pr(9,Qu.bind(null,n,s,l,t),void 0,null),fe===null)throw Error(D(349));Ht&30||Hu(n,t,l)}return l}function Hu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qu(e,t,n,s){t.value=n,t.getSnapshot=s,Yu(t)&&Ku(e)}function qu(e,t,n){return n(function(){Yu(t)&&Ku(e)})}function Yu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xe(e,n)}catch{return!0}}function Ku(e){var t=ct(e,1);t!==null&&Ye(t,e,1,-1)}function Ka(e){var t=Ge();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:e},t.queue=e,e=e.dispatch=$p.bind(null,se,e),[t.memoizedState,e]}function pr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Xu(){return Ue().memoizedState}function qr(e,t,n,s){var l=Ge();se.flags|=e,l.memoizedState=pr(1|t,n,void 0,s===void 0?null:s)}function Ms(e,t,n,s){var l=Ue();s=s===void 0?null:s;var i=void 0;if(de!==null){var a=de.memoizedState;if(i=a.destroy,s!==null&&Vi(s,a.deps)){l.memoizedState=pr(t,n,i,s);return}}se.flags|=e,l.memoizedState=pr(1|t,n,i,s)}function Xa(e,t){return qr(8390656,8,e,t)}function Qi(e,t){return Ms(2048,8,e,t)}function Zu(e,t){return Ms(4,2,e,t)}function Gu(e,t){return Ms(4,4,e,t)}function Ju(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ec(e,t,n){return n=n!=null?n.concat([e]):null,Ms(4,4,Ju.bind(null,t,e),n)}function qi(){}function tc(e,t){var n=Ue();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Vi(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function nc(e,t){var n=Ue();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Vi(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function rc(e,t,n){return Ht&21?(Xe(n,t)||(n=ou(),se.lanes|=n,Qt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ee=!0),e.memoizedState=n)}function Ap(e,t){var n=K;K=n!==0&&4>n?n:4,e(!0);var s=al.transition;al.transition={};try{e(!1),t()}finally{K=n,al.transition=s}}function sc(){return Ue().memoizedState}function Bp(e,t,n){var s=Pt(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},lc(e))ic(t,n);else if(n=$u(e,t,n,s),n!==null){var l=ke();Ye(n,e,s,l),ac(n,t,s)}}function $p(e,t,n){var s=Pt(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(lc(e))ic(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,u=i(a,n);if(l.hasEagerState=!0,l.eagerState=u,Xe(u,a)){var o=t.interleaved;o===null?(l.next=l,Ai(t)):(l.next=o.next,o.next=l),t.interleaved=l;return}}catch{}finally{}n=$u(e,t,l,s),n!==null&&(l=ke(),Ye(n,e,s,l),ac(n,t,s))}}function lc(e){var t=e.alternate;return e===se||t!==null&&t===se}function ic(e,t){Hn=gs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ac(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Si(e,n)}}var ys={readContext:Fe,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},Fp={readContext:Fe,useCallback:function(e,t){return Ge().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:Xa,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qr(4194308,4,Ju.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qr(4194308,4,e,t)},useInsertionEffect:function(e,t){return qr(4,2,e,t)},useMemo:function(e,t){var n=Ge();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Ge();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Bp.bind(null,se,e),[s.memoizedState,e]},useRef:function(e){var t=Ge();return e={current:e},t.memoizedState=e},useState:Ka,useDebugValue:qi,useDeferredValue:function(e){return Ge().memoizedState=e},useTransition:function(){var e=Ka(!1),t=e[0];return e=Ap.bind(null,e[1]),Ge().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=se,l=Ge();if(ne){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),fe===null)throw Error(D(349));Ht&30||Hu(s,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,Xa(qu.bind(null,s,i,e),[e]),s.flags|=2048,pr(9,Qu.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Ge(),t=fe.identifierPrefix;if(ne){var n=it,s=lt;n=(s&~(1<<32-qe(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=cr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Up={readContext:Fe,useCallback:tc,useContext:Fe,useEffect:Qi,useImperativeHandle:ec,useInsertionEffect:Zu,useLayoutEffect:Gu,useMemo:nc,useReducer:ol,useRef:Xu,useState:function(){return ol(dr)},useDebugValue:qi,useDeferredValue:function(e){var t=Ue();return rc(t,de.memoizedState,e)},useTransition:function(){var e=ol(dr)[0],t=Ue().memoizedState;return[e,t]},useMutableSource:Vu,useSyncExternalStore:Wu,useId:sc,unstable_isNewReconciler:!1},Vp={readContext:Fe,useCallback:tc,useContext:Fe,useEffect:Qi,useImperativeHandle:ec,useInsertionEffect:Zu,useLayoutEffect:Gu,useMemo:nc,useReducer:ul,useRef:Xu,useState:function(){return ul(dr)},useDebugValue:qi,useDeferredValue:function(e){var t=Ue();return de===null?t.memoizedState=e:rc(t,de.memoizedState,e)},useTransition:function(){var e=ul(dr)[0],t=Ue().memoizedState;return[e,t]},useMutableSource:Vu,useSyncExternalStore:Wu,useId:sc,unstable_isNewReconciler:!1};function We(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wl(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Is={isMounted:function(e){return(e=e._reactInternals)?Kt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ke(),l=Pt(e),i=at(s,l);i.payload=t,n!=null&&(i.callback=n),t=Ct(e,i,l),t!==null&&(Ye(t,e,l,s),Hr(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ke(),l=Pt(e),i=at(s,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ct(e,i,l),t!==null&&(Ye(t,e,l,s),Hr(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ke(),s=Pt(e),l=at(n,s);l.tag=2,t!=null&&(l.callback=t),t=Ct(e,l,s),t!==null&&(Ye(t,e,s,n),Hr(t,e,s))}};function Za(e,t,n,s,l,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,a):t.prototype&&t.prototype.isPureReactComponent?!sr(n,s)||!sr(l,i):!0}function oc(e,t,n){var s=!1,l=Tt,i=t.contextType;return typeof i=="object"&&i!==null?i=Fe(i):(l=De(t)?Vt:Ne.current,s=t.contextTypes,i=(s=s!=null)?yn(e,l):Tt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Is,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ga(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Is.enqueueReplaceState(t,t.state,null)}function Hl(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Bi(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=Fe(i):(i=De(t)?Vt:Ne.current,l.context=yn(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Wl(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Is.enqueueReplaceState(l,l.state,null),hs(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function wn(e,t){try{var n="",s=t;do n+=gd(s),s=s.return;while(s);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function cl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ql(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Wp=typeof WeakMap=="function"?WeakMap:Map;function uc(e,t,n){n=at(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){js||(js=!0,ni=s),Ql(e,t)},n}function cc(e,t,n){n=at(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){Ql(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ql(e,t),typeof s!="function"&&(Et===null?Et=new Set([this]):Et.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Ja(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Wp;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=sm.bind(null,e,t,n),t.then(e,e))}function eo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function to(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=at(-1,1),t.tag=2,Ct(n,t,1))),n.lanes|=1),e)}var Hp=ft.ReactCurrentOwner,Ee=!1;function we(e,t,n,s){t.child=e===null?Bu(t,null,n,s):jn(t,e.child,n,s)}function no(e,t,n,s,l){n=n.render;var i=t.ref;return hn(t,l),s=Wi(e,t,n,s,i,l),n=Hi(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,dt(e,t,l)):(ne&&n&&_i(t),t.flags|=1,we(e,t,s,l),t.child)}function ro(e,t,n,s,l){if(e===null){var i=n.type;return typeof i=="function"&&!ta(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,dc(e,t,i,s,l)):(e=Zr(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:sr,n(a,s)&&e.ref===t.ref)return dt(e,t,l)}return t.flags|=1,e=Dt(i,s),e.ref=t.ref,e.return=t,t.child=e}function dc(e,t,n,s,l){if(e!==null){var i=e.memoizedProps;if(sr(i,s)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=s=i,(e.lanes&l)!==0)e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,dt(e,t,l)}return ql(e,t,n,s,l)}function pc(e,t,n){var s=t.pendingProps,l=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(cn,Te),Te|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,G(cn,Te),Te|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,G(cn,Te),Te|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,G(cn,Te),Te|=s;return we(e,t,l,n),t.child}function mc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ql(e,t,n,s,l){var i=De(n)?Vt:Ne.current;return i=yn(t,i),hn(t,l),n=Wi(e,t,n,s,i,l),s=Hi(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,dt(e,t,l)):(ne&&s&&_i(t),t.flags|=1,we(e,t,n,l),t.child)}function so(e,t,n,s,l){if(De(n)){var i=!0;cs(t)}else i=!1;if(hn(t,l),t.stateNode===null)Yr(e,t),oc(t,n,s),Hl(t,n,s,l),s=!0;else if(e===null){var a=t.stateNode,u=t.memoizedProps;a.props=u;var o=a.context,m=n.contextType;typeof m=="object"&&m!==null?m=Fe(m):(m=De(n)?Vt:Ne.current,m=yn(t,m));var g=n.getDerivedStateFromProps,f=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==s||o!==m)&&Ga(t,a,s,m),gt=!1;var x=t.memoizedState;a.state=x,hs(t,s,a,l),o=t.memoizedState,u!==s||x!==o||Pe.current||gt?(typeof g=="function"&&(Wl(t,n,g,s),o=t.memoizedState),(u=gt||Za(t,n,u,s,x,o,m))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=o),a.props=s,a.state=o,a.context=m,s=u):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,Fu(e,t),u=t.memoizedProps,m=t.type===t.elementType?u:We(t.type,u),a.props=m,f=t.pendingProps,x=a.context,o=n.contextType,typeof o=="object"&&o!==null?o=Fe(o):(o=De(n)?Vt:Ne.current,o=yn(t,o));var w=n.getDerivedStateFromProps;(g=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==f||x!==o)&&Ga(t,a,s,o),gt=!1,x=t.memoizedState,a.state=x,hs(t,s,a,l);var h=t.memoizedState;u!==f||x!==h||Pe.current||gt?(typeof w=="function"&&(Wl(t,n,w,s),h=t.memoizedState),(m=gt||Za(t,n,m,s,x,h,o)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,h,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,h,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=h),a.props=s,a.state=h,a.context=o,s=m):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),s=!1)}return Yl(e,t,n,s,i,l)}function Yl(e,t,n,s,l,i){mc(e,t);var a=(t.flags&128)!==0;if(!s&&!a)return l&&Va(t,n,!1),dt(e,t,i);s=t.stateNode,Hp.current=t;var u=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&a?(t.child=jn(t,e.child,null,i),t.child=jn(t,null,u,i)):we(e,t,u,i),t.memoizedState=s.state,l&&Va(t,n,!0),t.child}function fc(e){var t=e.stateNode;t.pendingContext?Ua(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ua(e,t.context,!1),$i(e,t.containerInfo)}function lo(e,t,n,s,l){return vn(),Ii(l),t.flags|=256,we(e,t,n,s),t.child}var Kl={dehydrated:null,treeContext:null,retryLane:0};function Xl(e){return{baseLanes:e,cachePool:null,transitions:null}}function hc(e,t,n){var s=t.pendingProps,l=re.current,i=!1,a=(t.flags&128)!==0,u;if((u=a)||(u=e!==null&&e.memoizedState===null?!1:(l&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),G(re,l&1),e===null)return Ul(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=s.children,e=s.fallback,i?(s=t.mode,i=t.child,a={mode:"hidden",children:a},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Rs(a,s,0,null),e=Ut(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Xl(n),t.memoizedState=Kl,e):Yi(t,a));if(l=e.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return Qp(e,t,a,s,u,l,n);if(i){i=s.fallback,a=t.mode,l=e.child,u=l.sibling;var o={mode:"hidden",children:s.children};return!(a&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=o,t.deletions=null):(s=Dt(l,o),s.subtreeFlags=l.subtreeFlags&14680064),u!==null?i=Dt(u,i):(i=Ut(i,a,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,a=e.child.memoizedState,a=a===null?Xl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Kl,s}return i=e.child,e=i.sibling,s=Dt(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Yi(e,t){return t=Rs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mr(e,t,n,s){return s!==null&&Ii(s),jn(t,e.child,null,n),e=Yi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qp(e,t,n,s,l,i,a){if(n)return t.flags&256?(t.flags&=-257,s=cl(Error(D(422))),Mr(e,t,a,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,l=t.mode,s=Rs({mode:"visible",children:s.children},l,0,null),i=Ut(i,l,a,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&jn(t,e.child,null,a),t.child.memoizedState=Xl(a),t.memoizedState=Kl,i);if(!(t.mode&1))return Mr(e,t,a,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var u=s.dgst;return s=u,i=Error(D(419)),s=cl(i,s,void 0),Mr(e,t,a,s)}if(u=(a&e.childLanes)!==0,Ee||u){if(s=fe,s!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|a)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,ct(e,l),Ye(s,e,l,-1))}return ea(),s=cl(Error(D(421))),Mr(e,t,a,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=lm.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,_e=bt(l.nextSibling),Me=t,ne=!0,Qe=null,e!==null&&(Re[Ae++]=lt,Re[Ae++]=it,Re[Ae++]=Wt,lt=e.id,it=e.overflow,Wt=t),t=Yi(t,s.children),t.flags|=4096,t)}function io(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Vl(e.return,t,n)}function dl(e,t,n,s,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=l)}function xc(e,t,n){var s=t.pendingProps,l=s.revealOrder,i=s.tail;if(we(e,t,s.children,n),s=re.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&io(e,n,t);else if(e.tag===19)io(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(G(re,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&xs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),dl(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&xs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}dl(t,!0,n,null,i);break;case"together":dl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Dt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qp(e,t,n){switch(t.tag){case 3:fc(t),vn();break;case 5:Uu(t);break;case 1:De(t.type)&&cs(t);break;case 4:$i(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;G(ms,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(G(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?hc(e,t,n):(G(re,re.current&1),e=dt(e,t,n),e!==null?e.sibling:null);G(re,re.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return xc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),G(re,re.current),s)break;return null;case 22:case 23:return t.lanes=0,pc(e,t,n)}return dt(e,t,n)}var gc,Zl,yc,vc;gc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zl=function(){};yc=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,$t(tt.current);var i=null;switch(n){case"input":l=vl(e,l),s=vl(e,s),i=[];break;case"select":l=le({},l,{value:void 0}),s=le({},s,{value:void 0}),i=[];break;case"textarea":l=wl(e,l),s=wl(e,s),i=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=os)}Sl(n,s);var a;n=null;for(m in l)if(!s.hasOwnProperty(m)&&l.hasOwnProperty(m)&&l[m]!=null)if(m==="style"){var u=l[m];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Zn.hasOwnProperty(m)?i||(i=[]):(i=i||[]).push(m,null));for(m in s){var o=s[m];if(u=l!=null?l[m]:void 0,s.hasOwnProperty(m)&&o!==u&&(o!=null||u!=null))if(m==="style")if(u){for(a in u)!u.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in o)o.hasOwnProperty(a)&&u[a]!==o[a]&&(n||(n={}),n[a]=o[a])}else n||(i||(i=[]),i.push(m,n)),n=o;else m==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,u=u?u.__html:void 0,o!=null&&u!==o&&(i=i||[]).push(m,o)):m==="children"?typeof o!="string"&&typeof o!="number"||(i=i||[]).push(m,""+o):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Zn.hasOwnProperty(m)?(o!=null&&m==="onScroll"&&J("scroll",e),i||u===o||(i=[])):(i=i||[]).push(m,o))}n&&(i=i||[]).push("style",n);var m=i;(t.updateQueue=m)&&(t.flags|=4)}};vc=function(e,t,n,s){n!==s&&(t.flags|=4)};function Mn(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Yp(e,t,n){var s=t.pendingProps;switch(Mi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(t),null;case 1:return De(t.type)&&us(),ve(t),null;case 3:return s=t.stateNode,Nn(),ee(Pe),ee(Ne),Ui(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Tr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qe!==null&&(li(Qe),Qe=null))),Zl(e,t),ve(t),null;case 5:Fi(t);var l=$t(ur.current);if(n=t.type,e!==null&&t.stateNode!=null)yc(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(D(166));return ve(t),null}if(e=$t(tt.current),Tr(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[Je]=t,s[ar]=i,e=(t.mode&1)!==0,n){case"dialog":J("cancel",s),J("close",s);break;case"iframe":case"object":case"embed":J("load",s);break;case"video":case"audio":for(l=0;l<Bn.length;l++)J(Bn[l],s);break;case"source":J("error",s);break;case"img":case"image":case"link":J("error",s),J("load",s);break;case"details":J("toggle",s);break;case"input":ha(s,i),J("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},J("invalid",s);break;case"textarea":ga(s,i),J("invalid",s)}Sl(n,i),l=null;for(var a in i)if(i.hasOwnProperty(a)){var u=i[a];a==="children"?typeof u=="string"?s.textContent!==u&&(i.suppressHydrationWarning!==!0&&zr(s.textContent,u,e),l=["children",u]):typeof u=="number"&&s.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&zr(s.textContent,u,e),l=["children",""+u]):Zn.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&J("scroll",s)}switch(n){case"input":wr(s),xa(s,i,!0);break;case"textarea":wr(s),ya(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=os)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qo(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=a.createElement(n,{is:s.is}):(e=a.createElement(n),n==="select"&&(a=e,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):e=a.createElementNS(e,n),e[Je]=t,e[ar]=s,gc(e,t,!1,!1),t.stateNode=e;e:{switch(a=bl(n,s),n){case"dialog":J("cancel",e),J("close",e),l=s;break;case"iframe":case"object":case"embed":J("load",e),l=s;break;case"video":case"audio":for(l=0;l<Bn.length;l++)J(Bn[l],e);l=s;break;case"source":J("error",e),l=s;break;case"img":case"image":case"link":J("error",e),J("load",e),l=s;break;case"details":J("toggle",e),l=s;break;case"input":ha(e,s),l=vl(e,s),J("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=le({},s,{value:void 0}),J("invalid",e);break;case"textarea":ga(e,s),l=wl(e,s),J("invalid",e);break;default:l=s}Sl(n,l),u=l;for(i in u)if(u.hasOwnProperty(i)){var o=u[i];i==="style"?Xo(e,o):i==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Yo(e,o)):i==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&Gn(e,o):typeof o=="number"&&Gn(e,""+o):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zn.hasOwnProperty(i)?o!=null&&i==="onScroll"&&J("scroll",e):o!=null&&yi(e,i,o,a))}switch(n){case"input":wr(e),xa(e,s,!1);break;case"textarea":wr(e),ya(e);break;case"option":s.value!=null&&e.setAttribute("value",""+zt(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?dn(e,!!s.multiple,i,!1):s.defaultValue!=null&&dn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=os)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ve(t),null;case 6:if(e&&t.stateNode!=null)vc(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(D(166));if(n=$t(ur.current),$t(tt.current),Tr(t)){if(s=t.stateNode,n=t.memoizedProps,s[Je]=t,(i=s.nodeValue!==n)&&(e=Me,e!==null))switch(e.tag){case 3:zr(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zr(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Je]=t,t.stateNode=s}return ve(t),null;case 13:if(ee(re),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&_e!==null&&t.mode&1&&!(t.flags&128))Ru(),vn(),t.flags|=98560,i=!1;else if(i=Tr(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[Je]=t}else vn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ve(t),i=!1}else Qe!==null&&(li(Qe),Qe=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?pe===0&&(pe=3):ea())),t.updateQueue!==null&&(t.flags|=4),ve(t),null);case 4:return Nn(),Zl(e,t),e===null&&lr(t.stateNode.containerInfo),ve(t),null;case 10:return Ri(t.type._context),ve(t),null;case 17:return De(t.type)&&us(),ve(t),null;case 19:if(ee(re),i=t.memoizedState,i===null)return ve(t),null;if(s=(t.flags&128)!==0,a=i.rendering,a===null)if(s)Mn(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=xs(e),a!==null){for(t.flags|=128,Mn(i,!1),s=a.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return G(re,re.current&1|2),t.child}e=e.sibling}i.tail!==null&&oe()>kn&&(t.flags|=128,s=!0,Mn(i,!1),t.lanes=4194304)}else{if(!s)if(e=xs(a),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ne)return ve(t),null}else 2*oe()-i.renderingStartTime>kn&&n!==1073741824&&(t.flags|=128,s=!0,Mn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=oe(),t.sibling=null,n=re.current,G(re,s?n&1|2:n&1),t):(ve(t),null);case 22:case 23:return Ji(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Te&1073741824&&(ve(t),t.subtreeFlags&6&&(t.flags|=8192)):ve(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function Kp(e,t){switch(Mi(t),t.tag){case 1:return De(t.type)&&us(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nn(),ee(Pe),ee(Ne),Ui(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fi(t),null;case 13:if(ee(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(re),null;case 4:return Nn(),null;case 10:return Ri(t.type._context),null;case 22:case 23:return Ji(),null;case 24:return null;default:return null}}var Ir=!1,je=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,M=null;function un(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ae(e,t,s)}else n.current=null}function Gl(e,t,n){try{n()}catch(s){ae(e,t,s)}}var ao=!1;function Zp(e,t){if(Ll=ls,e=Su(),Ti(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,u=-1,o=-1,m=0,g=0,f=e,x=null;t:for(;;){for(var w;f!==n||l!==0&&f.nodeType!==3||(u=a+l),f!==i||s!==0&&f.nodeType!==3||(o=a+s),f.nodeType===3&&(a+=f.nodeValue.length),(w=f.firstChild)!==null;)x=f,f=w;for(;;){if(f===e)break t;if(x===n&&++m===l&&(u=a),x===i&&++g===s&&(o=a),(w=f.nextSibling)!==null)break;f=x,x=f.parentNode}f=w}n=u===-1||o===-1?null:{start:u,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ol={focusedElem:e,selectionRange:n},ls=!1,M=t;M!==null;)if(t=M,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,M=e;else for(;M!==null;){t=M;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var N=h.memoizedProps,T=h.memoizedState,d=t.stateNode,p=d.getSnapshotBeforeUpdate(t.elementType===t.type?N:We(t.type,N),T);d.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var c=t.stateNode.containerInfo;c.nodeType===1?c.textContent="":c.nodeType===9&&c.documentElement&&c.removeChild(c.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(j){ae(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,M=e;break}M=t.return}return h=ao,ao=!1,h}function Qn(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&Gl(t,n,i)}l=l.next}while(l!==s)}}function Ls(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Jl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jc(e){var t=e.alternate;t!==null&&(e.alternate=null,jc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Je],delete t[ar],delete t[Bl],delete t[Mp],delete t[Ip])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nc(e){return e.tag===5||e.tag===3||e.tag===4}function oo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ei(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=os));else if(s!==4&&(e=e.child,e!==null))for(ei(e,t,n),e=e.sibling;e!==null;)ei(e,t,n),e=e.sibling}function ti(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ti(e,t,n),e=e.sibling;e!==null;)ti(e,t,n),e=e.sibling}var he=null,He=!1;function ht(e,t,n){for(n=n.child;n!==null;)wc(e,t,n),n=n.sibling}function wc(e,t,n){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Es,n)}catch{}switch(n.tag){case 5:je||un(n,t);case 6:var s=he,l=He;he=null,ht(e,t,n),he=s,He=l,he!==null&&(He?(e=he,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(He?(e=he,n=n.stateNode,e.nodeType===8?sl(e.parentNode,n):e.nodeType===1&&sl(e,n),nr(e)):sl(he,n.stateNode));break;case 4:s=he,l=He,he=n.stateNode.containerInfo,He=!0,ht(e,t,n),he=s,He=l;break;case 0:case 11:case 14:case 15:if(!je&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var i=l,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Gl(n,t,a),l=l.next}while(l!==s)}ht(e,t,n);break;case 1:if(!je&&(un(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(u){ae(n,t,u)}ht(e,t,n);break;case 21:ht(e,t,n);break;case 22:n.mode&1?(je=(s=je)||n.memoizedState!==null,ht(e,t,n),je=s):ht(e,t,n);break;default:ht(e,t,n)}}function uo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xp),t.forEach(function(s){var l=im.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function Ve(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var i=e,a=t,u=a;e:for(;u!==null;){switch(u.tag){case 5:he=u.stateNode,He=!1;break e;case 3:he=u.stateNode.containerInfo,He=!0;break e;case 4:he=u.stateNode.containerInfo,He=!0;break e}u=u.return}if(he===null)throw Error(D(160));wc(i,a,l),he=null,He=!1;var o=l.alternate;o!==null&&(o.return=null),l.return=null}catch(m){ae(l,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kc(t,e),t=t.sibling}function kc(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ve(t,e),Ze(e),s&4){try{Qn(3,e,e.return),Ls(3,e)}catch(N){ae(e,e.return,N)}try{Qn(5,e,e.return)}catch(N){ae(e,e.return,N)}}break;case 1:Ve(t,e),Ze(e),s&512&&n!==null&&un(n,n.return);break;case 5:if(Ve(t,e),Ze(e),s&512&&n!==null&&un(n,n.return),e.flags&32){var l=e.stateNode;try{Gn(l,"")}catch(N){ae(e,e.return,N)}}if(s&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,u=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Ho(l,i),bl(u,a);var m=bl(u,i);for(a=0;a<o.length;a+=2){var g=o[a],f=o[a+1];g==="style"?Xo(l,f):g==="dangerouslySetInnerHTML"?Yo(l,f):g==="children"?Gn(l,f):yi(l,g,f,m)}switch(u){case"input":jl(l,i);break;case"textarea":Qo(l,i);break;case"select":var x=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?dn(l,!!i.multiple,w,!1):x!==!!i.multiple&&(i.defaultValue!=null?dn(l,!!i.multiple,i.defaultValue,!0):dn(l,!!i.multiple,i.multiple?[]:"",!1))}l[ar]=i}catch(N){ae(e,e.return,N)}}break;case 6:if(Ve(t,e),Ze(e),s&4){if(e.stateNode===null)throw Error(D(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(N){ae(e,e.return,N)}}break;case 3:if(Ve(t,e),Ze(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{nr(t.containerInfo)}catch(N){ae(e,e.return,N)}break;case 4:Ve(t,e),Ze(e);break;case 13:Ve(t,e),Ze(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Zi=oe())),s&4&&uo(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(je=(m=je)||g,Ve(t,e),je=m):Ve(t,e),Ze(e),s&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!g&&e.mode&1)for(M=e,g=e.child;g!==null;){for(f=M=g;M!==null;){switch(x=M,w=x.child,x.tag){case 0:case 11:case 14:case 15:Qn(4,x,x.return);break;case 1:un(x,x.return);var h=x.stateNode;if(typeof h.componentWillUnmount=="function"){s=x,n=x.return;try{t=s,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(N){ae(s,n,N)}}break;case 5:un(x,x.return);break;case 22:if(x.memoizedState!==null){po(f);continue}}w!==null?(w.return=x,M=w):po(f)}g=g.sibling}e:for(g=null,f=e;;){if(f.tag===5){if(g===null){g=f;try{l=f.stateNode,m?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=f.stateNode,o=f.memoizedProps.style,a=o!=null&&o.hasOwnProperty("display")?o.display:null,u.style.display=Ko("display",a))}catch(N){ae(e,e.return,N)}}}else if(f.tag===6){if(g===null)try{f.stateNode.nodeValue=m?"":f.memoizedProps}catch(N){ae(e,e.return,N)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ve(t,e),Ze(e),s&4&&uo(e);break;case 21:break;default:Ve(t,e),Ze(e)}}function Ze(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Nc(n)){var s=n;break e}n=n.return}throw Error(D(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Gn(l,""),s.flags&=-33);var i=oo(e);ti(e,i,l);break;case 3:case 4:var a=s.stateNode.containerInfo,u=oo(e);ei(e,u,a);break;default:throw Error(D(161))}}catch(o){ae(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gp(e,t,n){M=e,Sc(e)}function Sc(e,t,n){for(var s=(e.mode&1)!==0;M!==null;){var l=M,i=l.child;if(l.tag===22&&s){var a=l.memoizedState!==null||Ir;if(!a){var u=l.alternate,o=u!==null&&u.memoizedState!==null||je;u=Ir;var m=je;if(Ir=a,(je=o)&&!m)for(M=l;M!==null;)a=M,o=a.child,a.tag===22&&a.memoizedState!==null?mo(l):o!==null?(o.return=a,M=o):mo(l);for(;i!==null;)M=i,Sc(i),i=i.sibling;M=l,Ir=u,je=m}co(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,M=i):co(e)}}function co(e){for(;M!==null;){var t=M;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:je||Ls(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!je)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:We(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ya(t,i,s);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ya(t,a,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var g=m.memoizedState;if(g!==null){var f=g.dehydrated;f!==null&&nr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}je||t.flags&512&&Jl(t)}catch(x){ae(t,t.return,x)}}if(t===e){M=null;break}if(n=t.sibling,n!==null){n.return=t.return,M=n;break}M=t.return}}function po(e){for(;M!==null;){var t=M;if(t===e){M=null;break}var n=t.sibling;if(n!==null){n.return=t.return,M=n;break}M=t.return}}function mo(e){for(;M!==null;){var t=M;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ls(4,t)}catch(o){ae(t,n,o)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(o){ae(t,l,o)}}var i=t.return;try{Jl(t)}catch(o){ae(t,i,o)}break;case 5:var a=t.return;try{Jl(t)}catch(o){ae(t,a,o)}}}catch(o){ae(t,t.return,o)}if(t===e){M=null;break}var u=t.sibling;if(u!==null){u.return=t.return,M=u;break}M=t.return}}var Jp=Math.ceil,vs=ft.ReactCurrentDispatcher,Ki=ft.ReactCurrentOwner,$e=ft.ReactCurrentBatchConfig,Q=0,fe=null,ue=null,xe=0,Te=0,cn=It(0),pe=0,mr=null,Qt=0,Os=0,Xi=0,qn=null,Ce=null,Zi=0,kn=1/0,nt=null,js=!1,ni=null,Et=null,Lr=!1,Nt=null,Ns=0,Yn=0,ri=null,Kr=-1,Xr=0;function ke(){return Q&6?oe():Kr!==-1?Kr:Kr=oe()}function Pt(e){return e.mode&1?Q&2&&xe!==0?xe&-xe:Op.transition!==null?(Xr===0&&(Xr=ou()),Xr):(e=K,e!==0||(e=window.event,e=e===void 0?16:hu(e.type)),e):1}function Ye(e,t,n,s){if(50<Yn)throw Yn=0,ri=null,Error(D(185));xr(e,n,s),(!(Q&2)||e!==fe)&&(e===fe&&(!(Q&2)&&(Os|=n),pe===4&&vt(e,xe)),ze(e,s),n===1&&Q===0&&!(t.mode&1)&&(kn=oe()+500,_s&&Lt()))}function ze(e,t){var n=e.callbackNode;Od(e,t);var s=ss(e,e===fe?xe:0);if(s===0)n!==null&&Na(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Na(n),t===1)e.tag===0?Lp(fo.bind(null,e)):Iu(fo.bind(null,e)),Tp(function(){!(Q&6)&&Lt()}),n=null;else{switch(uu(s)){case 1:n=ki;break;case 4:n=iu;break;case 16:n=rs;break;case 536870912:n=au;break;default:n=rs}n=_c(n,bc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bc(e,t){if(Kr=-1,Xr=0,Q&6)throw Error(D(327));var n=e.callbackNode;if(xn()&&e.callbackNode!==n)return null;var s=ss(e,e===fe?xe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ws(e,s);else{t=s;var l=Q;Q|=2;var i=Ec();(fe!==e||xe!==t)&&(nt=null,kn=oe()+500,Ft(e,t));do try{nm();break}catch(u){Cc(e,u)}while(!0);Oi(),vs.current=i,Q=l,ue!==null?t=0:(fe=null,xe=0,t=pe)}if(t!==0){if(t===2&&(l=zl(e),l!==0&&(s=l,t=si(e,l))),t===1)throw n=mr,Ft(e,0),vt(e,s),ze(e,oe()),n;if(t===6)vt(e,s);else{if(l=e.current.alternate,!(s&30)&&!em(l)&&(t=ws(e,s),t===2&&(i=zl(e),i!==0&&(s=i,t=si(e,i))),t===1))throw n=mr,Ft(e,0),vt(e,s),ze(e,oe()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(D(345));case 2:Rt(e,Ce,nt);break;case 3:if(vt(e,s),(s&130023424)===s&&(t=Zi+500-oe(),10<t)){if(ss(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){ke(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Al(Rt.bind(null,e,Ce,nt),t);break}Rt(e,Ce,nt);break;case 4:if(vt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var a=31-qe(s);i=1<<a,a=t[a],a>l&&(l=a),s&=~i}if(s=l,s=oe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Jp(s/1960))-s,10<s){e.timeoutHandle=Al(Rt.bind(null,e,Ce,nt),s);break}Rt(e,Ce,nt);break;case 5:Rt(e,Ce,nt);break;default:throw Error(D(329))}}}return ze(e,oe()),e.callbackNode===n?bc.bind(null,e):null}function si(e,t){var n=qn;return e.current.memoizedState.isDehydrated&&(Ft(e,t).flags|=256),e=ws(e,t),e!==2&&(t=Ce,Ce=n,t!==null&&li(t)),e}function li(e){Ce===null?Ce=e:Ce.push.apply(Ce,e)}function em(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],i=l.getSnapshot;l=l.value;try{if(!Xe(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vt(e,t){for(t&=~Xi,t&=~Os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qe(t),s=1<<n;e[n]=-1,t&=~s}}function fo(e){if(Q&6)throw Error(D(327));xn();var t=ss(e,0);if(!(t&1))return ze(e,oe()),null;var n=ws(e,t);if(e.tag!==0&&n===2){var s=zl(e);s!==0&&(t=s,n=si(e,s))}if(n===1)throw n=mr,Ft(e,0),vt(e,t),ze(e,oe()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rt(e,Ce,nt),ze(e,oe()),null}function Gi(e,t){var n=Q;Q|=1;try{return e(t)}finally{Q=n,Q===0&&(kn=oe()+500,_s&&Lt())}}function qt(e){Nt!==null&&Nt.tag===0&&!(Q&6)&&xn();var t=Q;Q|=1;var n=$e.transition,s=K;try{if($e.transition=null,K=1,e)return e()}finally{K=s,$e.transition=n,Q=t,!(Q&6)&&Lt()}}function Ji(){Te=cn.current,ee(cn)}function Ft(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zp(n)),ue!==null)for(n=ue.return;n!==null;){var s=n;switch(Mi(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&us();break;case 3:Nn(),ee(Pe),ee(Ne),Ui();break;case 5:Fi(s);break;case 4:Nn();break;case 13:ee(re);break;case 19:ee(re);break;case 10:Ri(s.type._context);break;case 22:case 23:Ji()}n=n.return}if(fe=e,ue=e=Dt(e.current,null),xe=Te=t,pe=0,mr=null,Xi=Os=Qt=0,Ce=qn=null,Bt!==null){for(t=0;t<Bt.length;t++)if(n=Bt[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,i=n.pending;if(i!==null){var a=i.next;i.next=l,s.next=a}n.pending=s}Bt=null}return e}function Cc(e,t){do{var n=ue;try{if(Oi(),Qr.current=ys,gs){for(var s=se.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}gs=!1}if(Ht=0,me=de=se=null,Hn=!1,cr=0,Ki.current=null,n===null||n.return===null){pe=1,mr=t,ue=null;break}e:{var i=e,a=n.return,u=n,o=t;if(t=xe,u.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var m=o,g=u,f=g.tag;if(!(g.mode&1)&&(f===0||f===11||f===15)){var x=g.alternate;x?(g.updateQueue=x.updateQueue,g.memoizedState=x.memoizedState,g.lanes=x.lanes):(g.updateQueue=null,g.memoizedState=null)}var w=eo(a);if(w!==null){w.flags&=-257,to(w,a,u,i,t),w.mode&1&&Ja(i,m,t),t=w,o=m;var h=t.updateQueue;if(h===null){var N=new Set;N.add(o),t.updateQueue=N}else h.add(o);break e}else{if(!(t&1)){Ja(i,m,t),ea();break e}o=Error(D(426))}}else if(ne&&u.mode&1){var T=eo(a);if(T!==null){!(T.flags&65536)&&(T.flags|=256),to(T,a,u,i,t),Ii(wn(o,u));break e}}i=o=wn(o,u),pe!==4&&(pe=2),qn===null?qn=[i]:qn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var d=uc(i,o,t);qa(i,d);break e;case 1:u=o;var p=i.type,c=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Et===null||!Et.has(c)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=cc(i,u,t);qa(i,j);break e}}i=i.return}while(i!==null)}Dc(n)}catch(S){t=S,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(!0)}function Ec(){var e=vs.current;return vs.current=ys,e===null?ys:e}function ea(){(pe===0||pe===3||pe===2)&&(pe=4),fe===null||!(Qt&268435455)&&!(Os&268435455)||vt(fe,xe)}function ws(e,t){var n=Q;Q|=2;var s=Ec();(fe!==e||xe!==t)&&(nt=null,Ft(e,t));do try{tm();break}catch(l){Cc(e,l)}while(!0);if(Oi(),Q=n,vs.current=s,ue!==null)throw Error(D(261));return fe=null,xe=0,pe}function tm(){for(;ue!==null;)Pc(ue)}function nm(){for(;ue!==null&&!Ed();)Pc(ue)}function Pc(e){var t=Tc(e.alternate,e,Te);e.memoizedProps=e.pendingProps,t===null?Dc(e):ue=t,Ki.current=null}function Dc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Kp(n,t),n!==null){n.flags&=32767,ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,ue=null;return}}else if(n=Yp(n,t,Te),n!==null){ue=n;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);pe===0&&(pe=5)}function Rt(e,t,n){var s=K,l=$e.transition;try{$e.transition=null,K=1,rm(e,t,n,s)}finally{$e.transition=l,K=s}return null}function rm(e,t,n,s){do xn();while(Nt!==null);if(Q&6)throw Error(D(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Rd(e,i),e===fe&&(ue=fe=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lr||(Lr=!0,_c(rs,function(){return xn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$e.transition,$e.transition=null;var a=K;K=1;var u=Q;Q|=4,Ki.current=null,Zp(e,n),kc(n,e),kp(Ol),ls=!!Ll,Ol=Ll=null,e.current=n,Gp(n),Pd(),Q=u,K=a,$e.transition=i}else e.current=n;if(Lr&&(Lr=!1,Nt=e,Ns=l),i=e.pendingLanes,i===0&&(Et=null),Td(n.stateNode),ze(e,oe()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(js)throw js=!1,e=ni,ni=null,e;return Ns&1&&e.tag!==0&&xn(),i=e.pendingLanes,i&1?e===ri?Yn++:(Yn=0,ri=e):Yn=0,Lt(),null}function xn(){if(Nt!==null){var e=uu(Ns),t=$e.transition,n=K;try{if($e.transition=null,K=16>e?16:e,Nt===null)var s=!1;else{if(e=Nt,Nt=null,Ns=0,Q&6)throw Error(D(331));var l=Q;for(Q|=4,M=e.current;M!==null;){var i=M,a=i.child;if(M.flags&16){var u=i.deletions;if(u!==null){for(var o=0;o<u.length;o++){var m=u[o];for(M=m;M!==null;){var g=M;switch(g.tag){case 0:case 11:case 15:Qn(8,g,i)}var f=g.child;if(f!==null)f.return=g,M=f;else for(;M!==null;){g=M;var x=g.sibling,w=g.return;if(jc(g),g===m){M=null;break}if(x!==null){x.return=w,M=x;break}M=w}}}var h=i.alternate;if(h!==null){var N=h.child;if(N!==null){h.child=null;do{var T=N.sibling;N.sibling=null,N=T}while(N!==null)}}M=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,M=a;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qn(9,i,i.return)}var d=i.sibling;if(d!==null){d.return=i.return,M=d;break e}M=i.return}}var p=e.current;for(M=p;M!==null;){a=M;var c=a.child;if(a.subtreeFlags&2064&&c!==null)c.return=a,M=c;else e:for(a=p;M!==null;){if(u=M,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ls(9,u)}}catch(S){ae(u,u.return,S)}if(u===a){M=null;break e}var j=u.sibling;if(j!==null){j.return=u.return,M=j;break e}M=u.return}}if(Q=l,Lt(),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Es,e)}catch{}s=!0}return s}finally{K=n,$e.transition=t}}return!1}function ho(e,t,n){t=wn(n,t),t=uc(e,t,1),e=Ct(e,t,1),t=ke(),e!==null&&(xr(e,1,t),ze(e,t))}function ae(e,t,n){if(e.tag===3)ho(e,e,n);else for(;t!==null;){if(t.tag===3){ho(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Et===null||!Et.has(s))){e=wn(n,e),e=cc(t,e,1),t=Ct(t,e,1),e=ke(),t!==null&&(xr(t,1,e),ze(t,e));break}}t=t.return}}function sm(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=ke(),e.pingedLanes|=e.suspendedLanes&n,fe===e&&(xe&n)===n&&(pe===4||pe===3&&(xe&130023424)===xe&&500>oe()-Zi?Ft(e,0):Xi|=n),ze(e,t)}function zc(e,t){t===0&&(e.mode&1?(t=br,br<<=1,!(br&130023424)&&(br=4194304)):t=1);var n=ke();e=ct(e,t),e!==null&&(xr(e,t,n),ze(e,n))}function lm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zc(e,n)}function im(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(D(314))}s!==null&&s.delete(t),zc(e,n)}var Tc;Tc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pe.current)Ee=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ee=!1,qp(e,t,n);Ee=!!(e.flags&131072)}else Ee=!1,ne&&t.flags&1048576&&Lu(t,ps,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Yr(e,t),e=t.pendingProps;var l=yn(t,Ne.current);hn(t,n),l=Wi(null,t,s,e,l,n);var i=Hi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,De(s)?(i=!0,cs(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Bi(t),l.updater=Is,t.stateNode=l,l._reactInternals=t,Hl(t,s,e,n),t=Yl(null,t,s,!0,i,n)):(t.tag=0,ne&&i&&_i(t),we(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Yr(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=om(s),e=We(s,e),l){case 0:t=ql(null,t,s,e,n);break e;case 1:t=so(null,t,s,e,n);break e;case 11:t=no(null,t,s,e,n);break e;case 14:t=ro(null,t,s,We(s.type,e),n);break e}throw Error(D(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:We(s,l),ql(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:We(s,l),so(e,t,s,l,n);case 3:e:{if(fc(t),e===null)throw Error(D(387));s=t.pendingProps,i=t.memoizedState,l=i.element,Fu(e,t),hs(t,s,null,n);var a=t.memoizedState;if(s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=wn(Error(D(423)),t),t=lo(e,t,s,n,l);break e}else if(s!==l){l=wn(Error(D(424)),t),t=lo(e,t,s,n,l);break e}else for(_e=bt(t.stateNode.containerInfo.firstChild),Me=t,ne=!0,Qe=null,n=Bu(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vn(),s===l){t=dt(e,t,n);break e}we(e,t,s,n)}t=t.child}return t;case 5:return Uu(t),e===null&&Ul(t),s=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,a=l.children,Rl(s,l)?a=null:i!==null&&Rl(s,i)&&(t.flags|=32),mc(e,t),we(e,t,a,n),t.child;case 6:return e===null&&Ul(t),null;case 13:return hc(e,t,n);case 4:return $i(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=jn(t,null,s,n):we(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:We(s,l),no(e,t,s,l,n);case 7:return we(e,t,t.pendingProps,n),t.child;case 8:return we(e,t,t.pendingProps.children,n),t.child;case 12:return we(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,i=t.memoizedProps,a=l.value,G(ms,s._currentValue),s._currentValue=a,i!==null)if(Xe(i.value,a)){if(i.children===l.children&&!Pe.current){t=dt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){a=i.child;for(var o=u.firstContext;o!==null;){if(o.context===s){if(i.tag===1){o=at(-1,n&-n),o.tag=2;var m=i.updateQueue;if(m!==null){m=m.shared;var g=m.pending;g===null?o.next=o:(o.next=g.next,g.next=o),m.pending=o}}i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),Vl(i.return,n,t),u.lanes|=n;break}o=o.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(D(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Vl(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}we(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,hn(t,n),l=Fe(l),s=s(l),t.flags|=1,we(e,t,s,n),t.child;case 14:return s=t.type,l=We(s,t.pendingProps),l=We(s.type,l),ro(e,t,s,l,n);case 15:return dc(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:We(s,l),Yr(e,t),t.tag=1,De(s)?(e=!0,cs(t)):e=!1,hn(t,n),oc(t,s,l),Hl(t,s,l,n),Yl(null,t,s,!0,e,n);case 19:return xc(e,t,n);case 22:return pc(e,t,n)}throw Error(D(156,t.tag))};function _c(e,t){return lu(e,t)}function am(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(e,t,n,s){return new am(e,t,n,s)}function ta(e){return e=e.prototype,!(!e||!e.isReactComponent)}function om(e){if(typeof e=="function")return ta(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ji)return 11;if(e===Ni)return 14}return 2}function Dt(e,t){var n=e.alternate;return n===null?(n=Be(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zr(e,t,n,s,l,i){var a=2;if(s=e,typeof e=="function")ta(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Jt:return Ut(n.children,l,i,t);case vi:a=8,l|=8;break;case hl:return e=Be(12,n,t,l|2),e.elementType=hl,e.lanes=i,e;case xl:return e=Be(13,n,t,l),e.elementType=xl,e.lanes=i,e;case gl:return e=Be(19,n,t,l),e.elementType=gl,e.lanes=i,e;case Uo:return Rs(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $o:a=10;break e;case Fo:a=9;break e;case ji:a=11;break e;case Ni:a=14;break e;case xt:a=16,s=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Be(a,n,t,l),t.elementType=e,t.type=s,t.lanes=i,t}function Ut(e,t,n,s){return e=Be(7,e,s,t),e.lanes=n,e}function Rs(e,t,n,s){return e=Be(22,e,s,t),e.elementType=Uo,e.lanes=n,e.stateNode={isHidden:!1},e}function pl(e,t,n){return e=Be(6,e,null,t),e.lanes=n,e}function ml(e,t,n){return t=Be(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function um(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qs(0),this.expirationTimes=qs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qs(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function na(e,t,n,s,l,i,a,u,o){return e=new um(e,t,n,u,o),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Be(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bi(i),e}function cm(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gt,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Mc(e){if(!e)return Tt;e=e._reactInternals;e:{if(Kt(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(De(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(De(n))return Mu(e,n,t)}return t}function Ic(e,t,n,s,l,i,a,u,o){return e=na(n,s,!0,e,l,i,a,u,o),e.context=Mc(null),n=e.current,s=ke(),l=Pt(n),i=at(s,l),i.callback=t??null,Ct(n,i,l),e.current.lanes=l,xr(e,l,s),ze(e,s),e}function As(e,t,n,s){var l=t.current,i=ke(),a=Pt(l);return n=Mc(n),t.context===null?t.context=n:t.pendingContext=n,t=at(i,a),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ct(l,t,a),e!==null&&(Ye(e,l,a,i),Hr(e,l,a)),a}function ks(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xo(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ra(e,t){xo(e,t),(e=e.alternate)&&xo(e,t)}function dm(){return null}var Lc=typeof reportError=="function"?reportError:function(e){console.error(e)};function sa(e){this._internalRoot=e}Bs.prototype.render=sa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));As(e,t,null,null)};Bs.prototype.unmount=sa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qt(function(){As(null,e,null,null)}),t[ut]=null}};function Bs(e){this._internalRoot=e}Bs.prototype.unstable_scheduleHydration=function(e){if(e){var t=pu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yt.length&&t!==0&&t<yt[n].priority;n++);yt.splice(n,0,e),n===0&&fu(e)}};function la(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function go(){}function pm(e,t,n,s,l){if(l){if(typeof s=="function"){var i=s;s=function(){var m=ks(a);i.call(m)}}var a=Ic(t,s,e,0,null,!1,!1,"",go);return e._reactRootContainer=a,e[ut]=a.current,lr(e.nodeType===8?e.parentNode:e),qt(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var u=s;s=function(){var m=ks(o);u.call(m)}}var o=na(e,0,!1,null,null,!1,!1,"",go);return e._reactRootContainer=o,e[ut]=o.current,lr(e.nodeType===8?e.parentNode:e),qt(function(){As(t,o,n,s)}),o}function Fs(e,t,n,s,l){var i=n._reactRootContainer;if(i){var a=i;if(typeof l=="function"){var u=l;l=function(){var o=ks(a);u.call(o)}}As(t,a,e,l)}else a=pm(n,t,e,l,s);return ks(a)}cu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=An(t.pendingLanes);n!==0&&(Si(t,n|1),ze(t,oe()),!(Q&6)&&(kn=oe()+500,Lt()))}break;case 13:qt(function(){var s=ct(e,1);if(s!==null){var l=ke();Ye(s,e,1,l)}}),ra(e,1)}};bi=function(e){if(e.tag===13){var t=ct(e,134217728);if(t!==null){var n=ke();Ye(t,e,134217728,n)}ra(e,134217728)}};du=function(e){if(e.tag===13){var t=Pt(e),n=ct(e,t);if(n!==null){var s=ke();Ye(n,e,t,s)}ra(e,t)}};pu=function(){return K};mu=function(e,t){var n=K;try{return K=e,t()}finally{K=n}};El=function(e,t,n){switch(t){case"input":if(jl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=Ts(s);if(!l)throw Error(D(90));Wo(s),jl(s,l)}}}break;case"textarea":Qo(e,n);break;case"select":t=n.value,t!=null&&dn(e,!!n.multiple,t,!1)}};Jo=Gi;eu=qt;var mm={usingClientEntryPoint:!1,Events:[yr,rn,Ts,Zo,Go,Gi]},In={findFiberByHostInstance:At,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fm={bundleType:In.bundleType,version:In.version,rendererPackageName:In.rendererPackageName,rendererConfig:In.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ru(e),e===null?null:e.stateNode},findFiberByHostInstance:In.findFiberByHostInstance||dm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Or=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Or.isDisabled&&Or.supportsFiber)try{Es=Or.inject(fm),et=Or}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mm;Le.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!la(t))throw Error(D(200));return cm(e,t,null,n)};Le.createRoot=function(e,t){if(!la(e))throw Error(D(299));var n=!1,s="",l=Lc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=na(e,1,!1,null,null,n,!1,s,l),e[ut]=t.current,lr(e.nodeType===8?e.parentNode:e),new sa(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=ru(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return qt(e)};Le.hydrate=function(e,t,n){if(!$s(t))throw Error(D(200));return Fs(null,e,t,!0,n)};Le.hydrateRoot=function(e,t,n){if(!la(e))throw Error(D(405));var s=n!=null&&n.hydratedSources||null,l=!1,i="",a=Lc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Ic(t,null,e,1,n??null,l,!1,i,a),e[ut]=t.current,lr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Bs(t)};Le.render=function(e,t,n){if(!$s(t))throw Error(D(200));return Fs(null,e,t,!1,n)};Le.unmountComponentAtNode=function(e){if(!$s(e))throw Error(D(40));return e._reactRootContainer?(qt(function(){Fs(null,null,e,!1,function(){e._reactRootContainer=null,e[ut]=null})}),!0):!1};Le.unstable_batchedUpdates=Gi;Le.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!$s(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Fs(e,t,n,!1,s)};Le.version="18.3.1-next-f1338f8080-20240426";function Oc(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Oc)}catch(e){console.error(e)}}Oc(),Oo.exports=Le;var hm=Oo.exports,Rc,yo=hm;Rc=yo.createRoot,yo.hydrateRoot;const Ln=["ניקיון","גינון","חשמל","מים","תיקונים","אבטחה","ביטוח","משפטי","אחר"],Kn=`שלום {שם},
אנו מזכירים כי עליך תשלום של {סכום_כולל} ש"ח עבור החודשים: {חודשים}.
אנא פנה אלינו לתיאום התשלום.
תודה, ועד הבית`,Rr="last-backup-date",xm=(e,t=!0)=>{const n=L.useRef(!1),s=(f=!1)=>{const x=new Date().toISOString().split("T")[0],w=JSON.stringify(e,null,2);if(f)try{localStorage.setItem(`auto-backup-${x}`,w),localStorage.setItem(Rr,x),n.current=!0,console.log("Auto backup completed silently for",x)}catch(h){console.error("Silent backup failed:",h),l()}else l()},l=()=>{const f=new Date().toISOString().split("T")[0],x=JSON.stringify(e,null,2),w=new Blob([x],{type:"application/json"}),h=URL.createObjectURL(w),N=document.createElement("a");N.href=h,N.download=`גיבוי-אוטומטי-${f}.json`,N.click(),URL.revokeObjectURL(h),localStorage.setItem(Rr,f),n.current=!0},i=()=>{const f=new Date().toISOString().split("T")[0];return localStorage.getItem(Rr)!==f&&!n.current},a=()=>localStorage.getItem(Rr),u=()=>{s(!1)},o=()=>{const f=[];for(let x=0;x<localStorage.length;x++){const w=localStorage.key(x);if(w&&w.startsWith("auto-backup-")){const h=w.replace("auto-backup-",""),N=localStorage.getItem(w);N&&f.push({date:h,size:new Blob([N]).size})}}return f.sort((x,w)=>w.date.localeCompare(x.date))},m=f=>{const x=localStorage.getItem(`auto-backup-${f}`);if(x){const w=new Blob([x],{type:"application/json"}),h=URL.createObjectURL(w),N=document.createElement("a");N.href=h,N.download=`גיבוי-אוטומטי-${f}.json`,N.click(),URL.revokeObjectURL(h)}},g=()=>{const f=o();f.length>7&&f.slice(7).forEach(w=>{localStorage.removeItem(`auto-backup-${w.date}`)})};return L.useEffect(()=>{if(t&&i()){const f=setTimeout(()=>{s(!0),g()},3e3);return()=>clearTimeout(f)}},[e,t]),{shouldBackupToday:i(),lastBackupDate:a(),forceBackup:u,getStoredBackups:o,downloadStoredBackup:m,cleanOldBackups:g}},ii="building-management-data",Gr=(e,t)=>({id:e,name:t||"בניין חדש",settings:{name:t||"בניין חדש",monthlyAmount:300,pettyCashTransfer:50,entranceCodes:{},elevator:{company:"",phone:""},electricity:{}},tenants:[],payments:[],expenses:[],pettyCash:[],issues:[]}),gm=()=>{try{const t=localStorage.getItem(ii);if(t){const n=JSON.parse(t);if(n.buildings&&n.buildings.length>0)return n.globalEmployees||(n.globalEmployees=[]),n.settings&&typeof n.settings.autoBackupEnabled>"u"&&(n.settings.autoBackupEnabled=!0),n.settings&&!n.settings.whatsappTemplate&&(n.settings.whatsappTemplate=Kn),n.inventoryProducts||(n.inventoryProducts=[]),n.inventoryTransactions||(n.inventoryTransactions=[]),n.inventoryLocations&&delete n.inventoryLocations,n.buildings=n.buildings.map(s=>{if(s.settings&&"whatsappTemplate"in s.settings){const{whatsappTemplate:l,...i}=s.settings;return{...s,settings:i}}return s}),n}}catch(t){console.error("Error loading data from localStorage:",t)}const e=Gr("1","בניין ראשי");return{settings:{title:"מערכת ניהול ועד בית",tabOrder:["dashboard","inventory","tenants","payments","expenses","pettyCash","employees","issues","settings"],autoBackupEnabled:!0,whatsappTemplate:Kn},buildings:[e],currentBuildingId:"1",globalEmployees:[],inventoryProducts:[],inventoryTransactions:[]}},ia=()=>{const[e,t]=L.useState(gm),{shouldBackupToday:n,lastBackupDate:s,forceBackup:l,getStoredBackups:i,downloadStoredBackup:a,cleanOldBackups:u}=xm(e,e.settings.autoBackupEnabled);L.useEffect(()=>{try{localStorage.setItem(ii,JSON.stringify(e))}catch(p){console.error("Error saving to localStorage:",p)}},[e]);const o=p=>{t(c=>p(c))};return{data:e,updateData:o,getCurrentBuilding:()=>e.buildings.find(p=>p.id===e.currentBuildingId),updateCurrentBuilding:p=>{o(c=>({...c,buildings:c.buildings.map(j=>j.id===c.currentBuildingId?p(j):j)}))},switchBuilding:p=>{o(c=>({...c,currentBuildingId:p}))},addBuilding:p=>{const c=Date.now().toString(),j=Gr(c,p);o(S=>({...S,buildings:[...S.buildings,j],currentBuildingId:c}))},deleteBuilding:p=>{o(c=>{const j=c.buildings.filter(S=>S.id!==p);return j.length===0?c:{...c,buildings:j,currentBuildingId:c.currentBuildingId===p?j[0].id:c.currentBuildingId}})},exportData:()=>{const p=JSON.stringify(e,null,2),c=new Blob([p],{type:"application/json"}),j=URL.createObjectURL(c),S=document.createElement("a");S.href=j,S.download=`building-management-backup-${new Date().toISOString().split("T")[0]}.json`,S.click(),URL.revokeObjectURL(j)},importData:p=>new Promise((c,j)=>{const S=new FileReader;S.onload=k=>{var P;try{const b=JSON.parse((P=k.target)==null?void 0:P.result);b&&typeof b=="object"?((!b.buildings||!Array.isArray(b.buildings))&&(b.buildings=[Gr("1","בניין ראשי")]),(!b.currentBuildingId||!b.buildings.find(v=>v.id===b.currentBuildingId))&&(b.currentBuildingId=b.buildings[0].id),!b.settings||typeof b.settings!="object"?b.settings={title:"מערכת ניהול ועד בית",tabOrder:["dashboard","inventory","tenants","payments","expenses","pettyCash","employees","issues","settings"],autoBackupEnabled:!0,whatsappTemplate:Kn}:(b.settings.title||(b.settings.title="מערכת ניהול ועד בית"),(!b.settings.tabOrder||!Array.isArray(b.settings.tabOrder))&&(b.settings.tabOrder=["dashboard","inventory","tenants","payments","expenses","pettyCash","employees","issues","settings"]),typeof b.settings.autoBackupEnabled>"u"&&(b.settings.autoBackupEnabled=!0),b.settings.whatsappTemplate||(b.settings.whatsappTemplate=Kn)),(!b.globalEmployees||!Array.isArray(b.globalEmployees))&&(b.globalEmployees=[]),(!b.inventoryProducts||!Array.isArray(b.inventoryProducts))&&(b.inventoryProducts=[]),(!b.inventoryTransactions||!Array.isArray(b.inventoryTransactions))&&(b.inventoryTransactions=[]),b.inventoryLocations&&delete b.inventoryLocations,b.buildings=b.buildings.map(v=>{if(v.id||(v.id=Date.now().toString()+Math.random().toString(36).substr(2,9)),v.name||(v.name="בניין ללא שם"),!v.settings||typeof v.settings!="object"?v.settings={name:v.name,monthlyAmount:300,pettyCashTransfer:50,entranceCodes:{},elevator:{company:"",phone:""},electricity:{}}:(v.settings.name||(v.settings.name=v.name),typeof v.settings.monthlyAmount!="number"&&(v.settings.monthlyAmount=300),typeof v.settings.pettyCashTransfer!="number"&&(v.settings.pettyCashTransfer=50),(!v.settings.entranceCodes||typeof v.settings.entranceCodes!="object")&&(v.settings.entranceCodes={}),(!v.settings.elevator||typeof v.settings.elevator!="object")&&(v.settings.elevator={company:"",phone:""}),(!v.settings.electricity||typeof v.settings.electricity!="object")&&(v.settings.electricity={})),v.settings&&"whatsappTemplate"in v.settings){const{whatsappTemplate:y,..._}=v.settings;v.settings=_}return(!v.tenants||!Array.isArray(v.tenants))&&(v.tenants=[]),(!v.payments||!Array.isArray(v.payments))&&(v.payments=[]),(!v.expenses||!Array.isArray(v.expenses))&&(v.expenses=[]),(!v.pettyCash||!Array.isArray(v.pettyCash))&&(v.pettyCash=[]),(!v.issues||!Array.isArray(v.issues))&&(v.issues=[]),v}),console.log("Import successful - data structure validated and fixed:",b),t(b),c()):j(new Error("קובץ לא תקין - מבנה נתונים שגוי"))}catch(b){console.error("Import error:",b),j(new Error("שגיאה בפענוח הקובץ - ייתכן שהקובץ פגום"))}},S.onerror=()=>{j(new Error("שגיאה בקריאת הקובץ"))},S.readAsText(p)}),clearAllData:()=>{localStorage.removeItem(ii),localStorage.removeItem("last-backup-date");for(let j=localStorage.length-1;j>=0;j--){const S=localStorage.key(j);S&&S.startsWith("auto-backup-")&&localStorage.removeItem(S)}const p=Gr("1","בניין ראשי");t({settings:{title:"מערכת ניהול ועד בית",tabOrder:["dashboard","inventory","tenants","payments","expenses","pettyCash","employees","issues","settings"],autoBackupEnabled:!0,whatsappTemplate:Kn},buildings:[p],currentBuildingId:"1",globalEmployees:[],inventoryProducts:[],inventoryTransactions:[]}),setTimeout(()=>{window.location.reload()},100)},toggleAutoBackup:p=>{o(c=>({...c,settings:{...c.settings,autoBackupEnabled:p}}))},shouldBackupToday:n,lastBackupDate:s,forceBackup:l,getStoredBackups:i,downloadStoredBackup:a,cleanOldBackups:u}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ym={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const n=L.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:u="",children:o,...m},g)=>L.createElement("svg",{ref:g,...ym,width:l,height:l,stroke:s,strokeWidth:a?Number(i)*24/Number(l):i,className:["lucide",`lucide-${vm(e)}`,u].join(" "),...m},[...t.map(([f,x])=>L.createElement(f,x)),...Array.isArray(o)?o:[o]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=V("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=V("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=V("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=V("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=V("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=V("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=V("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=V("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=V("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=V("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=V("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=V("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=V("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=V("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=V("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=V("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=V("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=V("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=V("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=V("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=V("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=V("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Dm=({title:e,buildings:t,currentBuildingId:n,onBuildingChange:s})=>(t.find(l=>l.id===n),r.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(aa,{className:"h-8 w-8 text-blue-600"}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:e})]})}),t.length>1&&r.jsxs("div",{className:"relative",children:[r.jsx("select",{value:n,onChange:l=>s(l.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:t.map(l=>r.jsx("option",{value:l.id,children:l.name},l.id))}),r.jsx(wm,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})]})})})),zm=[{id:"dashboard",label:"לוח בקרה",icon:r.jsx(Cm,{size:20})},{id:"inventory",label:"ניהול מלאי",icon:r.jsx(Jr,{size:20})},{id:"tenants",label:"דיירים",icon:r.jsx(Fc,{size:20})},{id:"payments",label:"גבייה",icon:r.jsx(km,{size:20})},{id:"expenses",label:"הוצאות כלליות",icon:r.jsx(Em,{size:20})},{id:"pettyCash",label:"קופה קטנה",icon:r.jsx(Ss,{size:20})},{id:"employees",label:"עובדים",icon:r.jsx(di,{size:20})},{id:"issues",label:"תקלות",icon:r.jsx(st,{size:20})},{id:"settings",label:"הגדרות",icon:r.jsx(Ac,{size:20})}],Tm=({activeTab:e,onTabChange:t,tabOrder:n})=>{const s=n.map(l=>zm.find(i=>i.id===l)).filter(Boolean);return r.jsx("nav",{className:"bg-white border-b border-gray-200 shadow-sm overflow-x-auto",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex space-x-1 min-w-max",children:s.map(l=>r.jsxs("button",{onClick:()=>t(l.id),className:`flex items-center space-x-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap ${e===l.id?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.icon,r.jsx("span",{children:l.label})]},l.id))})})})},O=({children:e,className:t="",title:n})=>r.jsxs("div",{className:`bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden ${t}`,children:[n&&r.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-100",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:n})}),r.jsx("div",{className:"p-6",children:e})]}),So=({building:e,onUpdateBuilding:t})=>{const[n,s]=L.useState(null),[l,i]=L.useState({}),a=new Date().getFullYear(),u=e.payments.filter(d=>d.year===a&&d.paid).reduce((d,p)=>d+p.amount,0),o=e.expenses.filter(d=>new Date(d.date).getFullYear()===a).reduce((d,p)=>d+p.amount,0),m=u-o,g=e.pettyCash.reduce((d,p)=>p.type==="income"?d+p.amount:d-p.amount,0),f=e.tenants.filter(d=>{const c=e.payments.filter(S=>S.tenantId===d.id&&S.year===a).filter(S=>S.paid).length,j=new Date().getMonth()+1;return c<j}).length,x=e.issues.filter(d=>d.status!=="resolved").length,w=e.expenses.filter(d=>new Date(d.date).getFullYear()===a).reduce((d,p)=>(d[p.category]=(d[p.category]||0)+p.amount,d),{}),h=d=>{var c;const p=((c=e.settings.electricity[d])==null?void 0:c.meter)||"";i({...l,[d]:p}),s(d)},N=d=>{if(!t)return;const p=l[d]||"";t(c=>({...c,settings:{...c.settings,electricity:{...c.settings.electricity,[d]:{...c.settings.electricity[d],meter:p}}}})),s(null),i({...l,[d]:""})},T=()=>{s(null),i({})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(O,{className:"bg-gradient-to-br from-blue-50 to-blue-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-600",children:"יתרה שנתית"}),r.jsxs("p",{className:`text-2xl font-bold ${m>=0?"text-green-600":"text-red-600"}`,children:["₪",m.toLocaleString()]})]}),m>=0?r.jsx(Bc,{className:"h-8 w-8 text-green-500"}):r.jsx(oa,{className:"h-8 w-8 text-red-500"})]})}),r.jsx(O,{className:"bg-gradient-to-br from-green-50 to-green-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-600",children:"קופה קטנה"}),r.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["₪",g.toLocaleString()]})]}),r.jsx(Ss,{className:"h-8 w-8 text-green-500"})]})}),r.jsx(O,{className:"bg-gradient-to-br from-orange-50 to-orange-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-orange-600",children:"דיירים חייבים"}),r.jsx("p",{className:"text-2xl font-bold text-orange-700",children:f})]}),r.jsx(Fc,{className:"h-8 w-8 text-orange-500"})]})}),r.jsx(O,{className:"bg-gradient-to-br from-red-50 to-red-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-red-600",children:"תקלות פתוחות"}),r.jsx("p",{className:"text-2xl font-bold text-red-700",children:x})]}),r.jsx(st,{className:"h-8 w-8 text-red-500"})]})})]}),r.jsx(O,{title:"סטטוס גבייה שנתי",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.tenants.length-f}),r.jsx("p",{className:"text-sm text-green-700",children:"דיירים ששילמו"})]}),r.jsxs("div",{className:"p-3 bg-red-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-red-600",children:f}),r.jsx("p",{className:"text-sm text-red-700",children:"דיירים חייבים"})]}),r.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.tenants.length}),r.jsx("p",{className:"text-sm text-blue-700",children:"סך הכל דיירים"})]})]}),e.tenants.length>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsx("span",{children:"אחוז גבייה"}),r.jsxs("span",{children:[Math.round((e.tenants.length-f)/e.tenants.length*100),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${(e.tenants.length-f)/e.tenants.length*100}%`}})})]})]})}),r.jsx(O,{title:"סיכום כספי שנתי",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-green-800",children:"הכנסות"}),r.jsxs("span",{className:"font-bold text-green-600",children:["₪",u.toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg",children:[r.jsx("span",{className:"font-medium text-red-800",children:"הוצאות"}),r.jsxs("span",{className:"font-bold text-red-600",children:["₪",o.toLocaleString()]})]}),r.jsxs("div",{className:`flex justify-between items-center p-3 rounded-lg ${m>=0?"bg-blue-50":"bg-orange-50"}`,children:[r.jsx("span",{className:`font-bold ${m>=0?"text-blue-800":"text-orange-800"}`,children:"מאזן"}),r.jsxs("span",{className:`font-bold text-lg ${m>=0?"text-blue-600":"text-orange-600"}`,children:["₪",m.toLocaleString()]})]})]})}),r.jsx(O,{title:"התפלגות הוצאות",children:r.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[Object.entries(w).map(([d,p])=>r.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 rounded-lg",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:d}),r.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["₪",p.toLocaleString()]})]},d)),Object.keys(w).length===0&&r.jsx("p",{className:"text-center text-gray-500 py-8",children:"אין הוצאות השנה"})]})}),r.jsx(O,{title:"פרטי הבניין",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"קודי כניסה"}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:["A","B","C","D"].map(d=>r.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["כניסה ",d]}),r.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.settings.entranceCodes[d]||"לא הוגדר"})]},d))})]}),e.settings.elevator.company&&r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"מעלית"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["חברה: ",e.settings.elevator.company]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["טלפון: ",e.settings.elevator.phone]})]})]})}),r.jsx(O,{title:"חשמל - מונים",children:r.jsxs("div",{className:"space-y-3",children:[["A","B","C","D"].map(d=>{const p=e.settings.electricity[d],c=n===d;return p&&r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Pm,{className:"h-4 w-4 text-yellow-500"}),r.jsxs("span",{className:"font-medium text-gray-900",children:["כניסה ",d]})]}),t&&!c&&r.jsx("button",{onClick:()=>h(d),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"ערוך מספר מונה",children:r.jsx(pt,{size:14})})]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["חוזה: ",p.contract]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"מונה:"}),c?r.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[r.jsx("input",{type:"text",value:l[d]||"",onChange:j=>i({...l,[d]:j.target.value}),className:"flex-1 text-sm border border-gray-300 rounded px-2 py-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"מספר מונה",autoFocus:!0}),r.jsx("button",{onClick:()=>N(d),className:"text-green-600 hover:text-green-800",title:"שמור",children:r.jsx(Xn,{size:14})}),r.jsx("button",{onClick:T,className:"text-gray-600 hover:text-gray-800",title:"ביטול",children:"✕"})]}):r.jsx("span",{className:"text-sm font-medium text-gray-900",children:p.meter||"לא הוגדר"})]})]},d)}),!t&&r.jsx("div",{className:"text-center py-4",children:r.jsx("p",{className:"text-sm text-gray-500",children:"עריכת מונים זמינה רק בעמוד הגדרות"})})]})}),t&&r.jsx(O,{title:"הסבר - עריכת מונה חשמל",children:r.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(pt,{size:16,className:"text-blue-600"}),r.jsxs("span",{children:[r.jsx("strong",{children:"עריכה מהירה:"})," לחץ על סמל העריכה ליד מספר המונה לעדכון מהיר"]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Xn,{size:16,className:"text-green-600"}),r.jsxs("span",{children:[r.jsx("strong",{children:"שמירה:"})," לחץ על סמל השמירה לאחר עדכון המספר"]})]}),r.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-green-800 mb-1",children:"✨ חדש:"}),r.jsxs("ul",{className:"text-green-700 text-sm space-y-1",children:[r.jsx("li",{children:"• ✅ עריכה ישירה של מספרי מונה מלוח הבקרה"}),r.jsx("li",{children:"• ✅ שמירה מהירה ללא צורך לעבור להגדרות"}),r.jsx("li",{children:"• ✅ עדכון בזמן אמת"}),r.jsx("li",{children:"• ✅ ביטול שינויים אם נדרש"})]})]}),r.jsx("p",{className:"text-xs",children:"עכשיו תוכל לעדכן מספרי מונה ישירות מלוח הבקרה ללא צורך לעבור להגדרות."})]})})]})},F=({children:e,onClick:t,variant:n="primary",size:s="md",className:l="",disabled:i=!1,type:a="button"})=>{const u="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",o={primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-100 hover:bg-gray-200 text-gray-700 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500"},m={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},g=i?"opacity-50 cursor-not-allowed":"";return r.jsx("button",{type:a,onClick:t,disabled:i,className:`${u} ${o[n]} ${m[s]} ${g} ${l}`,children:e})},Ke=({isOpen:e,onClose:t,title:n,children:s,size:l="md"})=>{if(!e)return null;const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),r.jsxs("div",{className:`inline-block w-full ${i[l]} p-6 my-8 overflow-hidden text-right align-middle transition-all transform bg-white shadow-xl rounded-2xl`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n}),r.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(bs,{size:20})})]}),s]})]})})},_m=({products:e,transactions:t,currentBuilding:n,onUpdateProducts:s,onUpdateTransactions:l})=>{const[i,a]=L.useState("usage"),[u,o]=L.useState(!1),[m,g]=L.useState(!1),[f,x]=L.useState(!1),[w,h]=L.useState(null),[N,T]=L.useState(null),[d,p]=L.useState({name:"",quantity:0,pricePerUnit:0}),[c,j]=L.useState({productId:"",quantity:1,notes:""}),[S,k]=L.useState({quantity:0,notes:""}),P=E=>e.find(I=>I.id===E),b=E=>E===0?{color:"text-red-600 bg-red-100",text:"אזל"}:E<=5?{color:"text-yellow-600 bg-yellow-100",text:"נמוך"}:{color:"text-blue-600 bg-blue-100",text:"תקין"},v=e.length,y=e.reduce((E,I)=>E+I.quantity,0),_=e.reduce((E,I)=>E+I.quantity*I.pricePerUnit,0),$=t.filter(E=>E.type==="use").reduce((E,I)=>E+I.cost,0),H=E=>{E?(h(E),p({name:E.name,quantity:E.quantity,pricePerUnit:E.pricePerUnit})):(h(null),p({name:"",quantity:0,pricePerUnit:0})),o(!0)},ie=E=>{if(E.preventDefault(),w)s(I=>I.map(C=>C.id===w.id?{...C,name:d.name,pricePerUnit:d.pricePerUnit}:C));else{const I={id:Date.now().toString(),name:d.name,quantity:d.quantity,pricePerUnit:d.pricePerUnit,createdAt:new Date().toISOString()};if(s(C=>[...C,I]),d.quantity>0){const C={id:Date.now().toString()+"-create",productId:I.id,buildingId:n.id,buildingName:n.name,type:"create",quantity:d.quantity,cost:d.quantity*d.pricePerUnit,notes:"יצירת מוצר חדש",date:new Date().toISOString().split("T")[0],createdAt:new Date().toISOString()};l(A=>[...A,C])}}o(!1)},q=E=>{confirm("האם אתה בטוח שברצונך למחוק מוצר זה? כל ההיסטוריה שלו תימחק גם כן.")&&(s(I=>I.filter(C=>C.id!==E)),l(I=>I.filter(C=>C.productId!==E)))},te=()=>{j({productId:"",quantity:1,notes:""}),g(!0)},X=E=>{E.preventDefault();const I=P(c.productId);if(!I||I.quantity<c.quantity){alert("אין מספיק מלאי למוצר זה");return}s(A=>A.map(W=>W.id===c.productId?{...W,quantity:W.quantity-c.quantity}:W));const C={id:Date.now().toString(),productId:c.productId,buildingId:n.id,buildingName:n.name,type:"use",quantity:c.quantity,cost:c.quantity*I.pricePerUnit,notes:c.notes,date:new Date().toISOString().split("T")[0],createdAt:new Date().toISOString()};l(A=>[...A,C]),g(!1)},z=E=>{T(E),k({quantity:0,notes:""}),x(!0)},R=E=>{if(E.preventDefault(),!N||S.quantity<=0)return;s(C=>C.map(A=>A.id===N.id?{...A,quantity:A.quantity+S.quantity}:A));const I={id:Date.now().toString(),productId:N.id,buildingId:n.id,buildingName:n.name,type:"add",quantity:S.quantity,cost:S.quantity*N.pricePerUnit,notes:S.notes,date:new Date().toISOString().split("T")[0],createdAt:new Date().toISOString()};l(C=>[...C,I]),x(!1)},B=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"שימוש במוצרים"}),r.jsxs(F,{onClick:te,children:[r.jsx(ko,{size:16,className:"ml-1"}),"רשום שימוש"]})]}),r.jsxs(O,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(E=>{const I=b(E.quantity);return r.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:E.name}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I.color}`,children:I.text})]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["מלאי: ",E.quantity," יחידות"]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["מחיר: ₪",E.pricePerUnit]}),r.jsx(F,{size:"sm",onClick:()=>z(E),variant:"secondary",className:"w-full",children:"הוסף מלאי"})]},E.id)})}),e.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Jr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"אין מוצרים במערכת"})]})]})]}),Y=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"ניהול מוצרים"}),r.jsxs(F,{onClick:()=>H(),children:[r.jsx(_t,{size:16,className:"ml-1"}),"הוסף מוצר"]})]}),r.jsx(O,{title:"מלאי נוכחי",children:r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"שם המוצר"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"כמות במלאי"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"מחיר ליחידה"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"ערך כולל"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"סטטוס"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"פעולות"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(E=>{const I=b(E.quantity),C=E.quantity*E.pricePerUnit;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.quantity}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₪",E.pricePerUnit]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["₪",C.toLocaleString()]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I.color}`,children:I.text})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>z(E),className:"text-green-600 hover:text-green-800",title:"הוסף מלאי",children:r.jsx(_t,{size:16})}),r.jsx("button",{onClick:()=>H(E),className:"text-blue-600 hover:text-blue-800",title:"ערוך",children:r.jsx(pt,{size:16})}),r.jsx("button",{onClick:()=>q(E.id),className:"text-red-600 hover:text-red-800",title:"מחק",children:r.jsx(mt,{size:16})})]})})]},E.id)})})]}),e.length===0&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"אין מוצרים להצגה"})})]})})]}),Z=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"היסטוריית פעולות"}),r.jsx(O,{children:r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"תאריך"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"מוצר"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"פעולה"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"כמות"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"בניין"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"עלות"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"הערות"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.sort((E,I)=>new Date(I.date).getTime()-new Date(E.date).getTime()).map(E=>{const I=P(E.productId),C={create:"יצירת מוצר",add:"הוספת מלאי",use:"שימוש במוצר"};return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(E.date).toLocaleDateString("he-IL")}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(I==null?void 0:I.name)||"מוצר לא קיים"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E.type==="use"?"bg-red-100 text-red-800":E.type==="add"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:C[E.type]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[E.type==="use"?"-":"+",E.quantity]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(aa,{size:14,className:"text-gray-400"}),r.jsx("span",{children:E.buildingName})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["₪",E.cost.toLocaleString()]}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:E.notes||"-"})]},E.id)})})]}),t.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(wo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"אין פעולות להצגה"})]})]})})]}),ce=()=>{const E=t.filter(C=>C.type==="use").reduce((C,A)=>(C[A.buildingName]=(C[A.buildingName]||0)+A.cost,C),{}),I=t.filter(C=>C.type==="use").reduce((C,A)=>{const W=P(A.productId);return W&&(C[W.name]||(C[W.name]={quantity:0,cost:0}),C[W.name].quantity+=A.quantity,C[W.name].cost+=A.cost),C},{});return r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"ניתוח נתונים"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(O,{className:"bg-gradient-to-br from-blue-50 to-blue-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-600",children:"סך המוצרים"}),r.jsx("p",{className:"text-2xl font-bold text-blue-700",children:v})]}),r.jsx(Jr,{className:"h-8 w-8 text-blue-500"})]})}),r.jsx(O,{className:"bg-gradient-to-br from-green-50 to-green-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-600",children:"סך היחידות במלאי"}),r.jsx("p",{className:"text-2xl font-bold text-green-700",children:y})]}),r.jsx(vo,{className:"h-8 w-8 text-green-500"})]})}),r.jsx(O,{className:"bg-gradient-to-br from-purple-50 to-purple-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-purple-600",children:"ערך המלאי הכולל"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-700",children:["₪",_.toLocaleString()]})]}),r.jsx(Sm,{className:"h-8 w-8 text-purple-500"})]})}),r.jsx(O,{className:"bg-gradient-to-br from-red-50 to-red-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-red-600",children:"סך עלויות השימוש"}),r.jsxs("p",{className:"text-2xl font-bold text-red-700",children:["₪",$.toLocaleString()]})]}),r.jsx(oa,{className:"h-8 w-8 text-red-500"})]})})]}),r.jsx(O,{title:"עלויות לפי בניין",children:r.jsxs("div",{className:"space-y-3",children:[Object.entries(E).sort(([,C],[,A])=>A-C).map(([C,A])=>{const W=$>0?A/$*100:0;return r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"font-medium text-gray-700",children:C}),r.jsxs("span",{className:"text-gray-900",children:["₪",A.toLocaleString()," (",W.toFixed(1),"%)"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${W}%`}})})]},C)}),Object.keys(E).length===0&&r.jsx("p",{className:"text-center text-gray-500 py-8",children:"אין נתוני שימוש"})]})}),r.jsx(O,{title:"ניתוח מוצרים",children:r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"מוצר"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"יחידות שנוצלו"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"עלות כוללת"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"מלאי נוכחי"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(I).map(([C,A])=>{const W=e.find(Xt=>Xt.name===C);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.quantity}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["₪",A.cost.toLocaleString()]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(W==null?void 0:W.quantity)||0})]},C)})})]}),Object.keys(I).length===0&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"אין נתוני שימוש להצגה"})})]})})]})};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"ניהול מלאי"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["מוצרים גלובליים • שימוש עבור: ",n.name]})]})}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"usage",label:"שימוש במוצרים",icon:ko},{id:"products",label:"ניהול מוצרים",icon:Jr},{id:"history",label:"היסטוריית פעולות",icon:wo},{id:"analytics",label:"ניתוח נתונים",icon:vo}].map(E=>r.jsxs("button",{onClick:()=>a(E.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${i===E.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(E.icon,{size:16}),r.jsx("span",{children:E.label})]},E.id))})}),i==="usage"&&B(),i==="products"&&Y(),i==="history"&&Z(),i==="analytics"&&ce(),r.jsx(Ke,{isOpen:u,onClose:()=>o(!1),title:w?"ערוך מוצר":"הוסף מוצר חדש",children:r.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"שם המוצר"}),r.jsx("input",{type:"text",required:!0,value:d.name,onChange:E=>p({...d,name:E.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"שם המוצר"})]}),!w&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"כמות ראשונית"}),r.jsx("input",{type:"number",min:"0",value:d.quantity,onChange:E=>p({...d,quantity:parseInt(E.target.value)||0}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"מחיר ליחידה (₪)"}),r.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:d.pricePerUnit,onChange:E=>p({...d,pricePerUnit:parseFloat(E.target.value)||0}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(F,{variant:"secondary",onClick:()=>o(!1),children:"ביטול"}),r.jsx(F,{type:"submit",children:w?"עדכן":"הוסף"})]})]})}),r.jsx(Ke,{isOpen:m,onClose:()=>g(!1),title:"רשום שימוש במוצר",children:r.jsxs("form",{onSubmit:X,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"בחר מוצר"}),r.jsxs("select",{required:!0,value:c.productId,onChange:E=>j({...c,productId:E.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"בחר מוצר..."}),e.filter(E=>E.quantity>0).map(E=>r.jsxs("option",{value:E.id,children:[E.name," (מלאי: ",E.quantity,")"]},E.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"כמות לשימוש"}),r.jsx("input",{type:"number",required:!0,min:"1",value:c.quantity,onChange:E=>j({...c,quantity:parseInt(E.target.value)||1}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"הערות"}),r.jsx("textarea",{value:c.notes,onChange:E=>j({...c,notes:E.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"הערות על השימוש (אופציונלי)"})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"בניין נוכחי:"})," ",n.name]})}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(F,{variant:"secondary",onClick:()=>g(!1),children:"ביטול"}),r.jsx(F,{type:"submit",children:"רשום שימוש"})]})]})}),r.jsx(Ke,{isOpen:f,onClose:()=>x(!1),title:`הוסף מלאי - ${N==null?void 0:N.name}`,children:r.jsxs("form",{onSubmit:R,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"כמות להוספה"}),r.jsx("input",{type:"number",required:!0,min:"1",value:S.quantity,onChange:E=>k({...S,quantity:parseInt(E.target.value)||0}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"הערות"}),r.jsx("textarea",{value:S.notes,onChange:E=>k({...S,notes:E.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"הערות על ההוספה (אופציונלי)"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(F,{variant:"secondary",onClick:()=>x(!1),children:"ביטול"}),r.jsx(F,{type:"submit",children:"הוסף מלאי"})]})]})})]})},Mm=({building:e,onUpdateBuilding:t})=>{const{data:n}=ia(),[s,l]=L.useState("all"),[i,a]=L.useState(!1),[u,o]=L.useState(!1),[m,g]=L.useState("A"),[f,x]=L.useState(null),w=L.useRef(null),[h,N]=L.useState({apartment:"",floor:1,name:"",ownership:"owner",entrance:"A",phone:"",paymentMethod:"cash"}),T=e.tenants.filter(v=>s==="all"||v.entrance===s),d=v=>{v?(x(v),N(v)):(x(null),N({apartment:"",floor:1,name:"",ownership:"owner",entrance:"A",phone:"",paymentMethod:"cash"})),a(!0)},p=v=>{v.preventDefault();const y={id:(f==null?void 0:f.id)||Date.now().toString(),apartment:h.apartment,floor:h.floor,name:h.name,ownership:h.ownership,ownerName:h.ownerName,ownerPhone:h.ownerPhone,entrance:h.entrance,phone:h.phone,phone2:h.phone2,monthlyAmount:h.monthlyAmount,paymentMethod:h.paymentMethod,creditDay:h.creditDay};t(_=>({..._,tenants:f?_.tenants.map($=>$.id===f.id?y:$):[..._.tenants,y]})),a(!1)},c=v=>{confirm("האם אתה בטוח שברצונך למחוק דייר זה?")&&t(y=>({...y,tenants:y.tenants.filter(_=>_.id!==v),payments:y.payments.filter(_=>_.tenantId!==v)}))},j=(v,y,_)=>{const $=new Date().getFullYear(),H=new Date().getMonth()+1,q=e.payments.filter(I=>I.tenantId===v.id&&I.year===$&&I.paid).map(I=>I.month),te=[];for(let I=1;I<=H;I++)q.includes(I)||te.push(I);if(te.length===0){alert("הדייר לא חייב כסף");return}const X=["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],z=te.map(I=>X[I-1]).join(", "),R=v.monthlyAmount||e.settings.monthlyAmount,B=te.length*R;let Y=v.name;_==="owner"&&v.ownerName&&(Y=v.ownerName);let Z=n.settings.whatsappTemplate.replace("{שם}",Y).replace("{חודשים}",z).replace("{סכום_כולל}",B.toString());_==="owner"&&(Z+=`

(הודעה זו נשלחת לבעלים של דירה ${v.apartment})`);let ce=y.replace(/[\s\-\(\)]/g,"");ce.startsWith("0")?ce="972"+ce.substring(1):ce.startsWith("972")||(ce="972"+ce);const E=`https://wa.me/${ce}?text=${encodeURIComponent(Z)}`;console.log("Opening WhatsApp with:",{originalPhone:y,cleanPhone:ce,url:E}),window.open(E,"_blank")},S=v=>{const y=new Date().getFullYear(),_=new Date().getMonth()+1;return e.payments.filter(H=>H.tenantId===v.id&&H.year===y&&H.paid).length>=_?"שולם":"חייב"},k=async v=>{var _;const y=(_=v.target.files)==null?void 0:_[0];if(y){try{const ie=(await y.text()).split(`
`).filter(te=>te.trim()).slice(1),q=[];for(const te of ie){const X=te.split(",").map(W=>W.trim());if(X.length<4||!X[1]||!X[2])continue;const z=X[1],R=X[2],B=X[3],Y=X[4]||"",Z=X[5]||"",ce=X[6]&&X[6]!=="*"?X[6]:void 0,E=X[7]&&X[7]!=="*"?X[7]:void 0,I=B.includes("שכירות")?"renter":"owner";let C=1;if(X[0]){const W=X[0].match(/(\d+)/);W&&(C=parseInt(W[1]))}const A={id:Date.now().toString()+Math.random().toString(36).substr(2,9),apartment:z,floor:C,name:R,ownership:I,ownerName:ce,ownerPhone:E,entrance:m,phone:Y,phone2:Z||void 0,paymentMethod:"cash"};q.push(A)}q.length>0?(t(te=>({...te,tenants:[...te.tenants,...q]})),alert(`יובאו בהצלחה ${q.length} דיירים לכניסה ${m}`)):alert("לא נמצאו נתונים תקינים בקובץ")}catch($){console.error("Error importing CSV:",$),alert("שגיאה בייבוא הקובץ. אנא בדוק שהקובץ תקין.")}w.current&&(w.current.value=""),o(!1)}},P=()=>{const v=`קומה,מס' דירה,שם מלא,שכירות / בעלים,טלפון,טלפון נוסף,שם בעל הדירה,טלפון בעלים,כניסה
`,y=e.tenants.map(q=>{const te=q.ownership==="owner"?"בעלים":"שכירות",X=q.ownerName||"*",z=q.ownerPhone||"*",R=q.phone2||"";return`קומה ${q.floor},${q.apartment},${q.name},${te},${q.phone},${R},${X},${z},${q.entrance}`}).join(`
`),_=v+y,$=new Blob([_],{type:"text/csv;charset=utf-8;"}),H=document.createElement("a"),ie=URL.createObjectURL($);H.setAttribute("href",ie),H.setAttribute("download",`דיירים-${e.name}-${new Date().toISOString().split("T")[0]}.csv`),H.style.visibility="hidden",document.body.appendChild(H),H.click(),document.body.removeChild(H)},b=({phone:v,tenant:y,type:_,label:$})=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ui,{size:14,className:"text-gray-400"}),r.jsx("span",{className:"text-sm",children:v}),$&&r.jsxs("span",{className:"text-xs text-gray-500",children:["(",$,")"]}),r.jsx("button",{onClick:()=>j(y,v,_),className:"text-green-600 hover:text-green-800 transition-colors p-1 rounded hover:bg-green-50",title:`שלח WhatsApp ל${$||"מספר זה"}`,children:r.jsx(oi,{size:14})})]});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"ניהול דיירים"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(bm,{size:16,className:"text-gray-500"}),r.jsxs("select",{value:s,onChange:v=>l(v.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm",children:[r.jsx("option",{value:"all",children:"כל הכניסות"}),r.jsx("option",{value:"A",children:"כניסה א'"}),r.jsx("option",{value:"B",children:"כניסה ב'"}),r.jsx("option",{value:"C",children:"כניסה ג'"}),r.jsx("option",{value:"D",children:"כניסה ד'"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(F,{variant:"secondary",onClick:()=>o(!0),children:[r.jsx($c,{size:16,className:"ml-1"}),"ייבא CSV"]}),r.jsxs(F,{variant:"secondary",onClick:P,children:[r.jsx(fr,{size:16,className:"ml-1"}),"ייצא CSV"]})]}),r.jsxs(F,{onClick:()=>d(),children:[r.jsx(_t,{size:16,className:"ml-1"}),"הוסף דייר"]})]})]}),r.jsx(O,{children:r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"דירה"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"קומה"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"שם"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"סוג בעלות"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"כניסה"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"טלפונים"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"סכום חודשי"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"אמצעי תשלום"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"סטטוס"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"פעולות"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(v=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.apartment}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.floor}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[v.name,v.ownership==="renter"&&v.ownerName&&r.jsxs("div",{className:"text-xs text-gray-500",children:["בעלים: ",v.ownerName]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${v.ownership==="owner"?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"}`,children:v.ownership==="owner"?"בעלים":"שוכר"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.entrance}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 min-w-[200px]",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx(b,{phone:v.phone,tenant:v,type:"main",label:"ראשי"}),v.phone2&&r.jsx(b,{phone:v.phone2,tenant:v,type:"secondary",label:"נוסף"}),v.ownership==="renter"&&v.ownerPhone&&r.jsx(b,{phone:v.ownerPhone,tenant:v,type:"owner",label:"בעלים"})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["₪",(v.monthlyAmount||e.settings.monthlyAmount).toLocaleString()]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${v.paymentMethod==="cash"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:v.paymentMethod==="cash"?"מזומן":`אשראי (יום ${v.creditDay||1})`})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(v)==="שולם"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S(v)})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>d(v),className:"text-blue-600 hover:text-blue-800",title:"ערוך",children:r.jsx(pt,{size:16})}),r.jsx("button",{onClick:()=>c(v.id),className:"text-red-600 hover:text-red-800",title:"מחק",children:r.jsx(mt,{size:16})})]})})]},v.id))})]}),T.length===0&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"אין דיירים להצגה"})})]})}),r.jsx(Ke,{isOpen:u,onClose:()=>o(!1),title:"ייבוא דיירים מקובץ CSV",size:"lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"הוראות ייבוא:"}),r.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[r.jsx("li",{children:"• הקובץ צריך להיות בפורמט CSV"}),r.jsx("li",{children:"• העמודות צריכות להיות: קומה, מס' דירה, שם מלא, שכירות/בעלים, טלפון, טלפון נוסף, שם בעל הדירה, טלפון בעלים"}),r.jsx("li",{children:"• השורה הראשונה (כותרות) תתעלם"}),r.jsx("li",{children:"• כל הדיירים ייובאו לכניסה שתבחר למטה"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"בחר כניסה לייבוא:"}),r.jsxs("select",{value:m,onChange:v=>g(v.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"A",children:"כניסה א'"}),r.jsx("option",{value:"B",children:"כניסה ב'"}),r.jsx("option",{value:"C",children:"כניסה ג'"}),r.jsx("option",{value:"D",children:"כניסה ד'"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"בחר קובץ CSV:"}),r.jsx("input",{ref:w,type:"file",accept:".csv",onChange:k,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"שים לב:"})," הייבוא יוסיף דיירים חדשים ולא יחליף דיירים קיימים."]})}),r.jsx("div",{className:"flex justify-end space-x-3 pt-4",children:r.jsx(F,{variant:"secondary",onClick:()=>o(!1),children:"ביטול"})})]})}),r.jsx(Ke,{isOpen:i,onClose:()=>a(!1),title:f?"ערוך דייר":"הוסף דייר חדש",size:"lg",children:r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"דירה"}),r.jsx("input",{type:"text",required:!0,value:h.apartment||"",onChange:v=>N({...h,apartment:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"קומה"}),r.jsx("input",{type:"number",required:!0,min:"0",value:h.floor||1,onChange:v=>N({...h,floor:parseInt(v.target.value)}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"שם"}),r.jsx("input",{type:"text",required:!0,value:h.name||"",onChange:v=>N({...h,name:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"סוג בעלות"}),r.jsxs("select",{value:h.ownership||"owner",onChange:v=>N({...h,ownership:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"owner",children:"בעלים"}),r.jsx("option",{value:"renter",children:"שוכר"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"כניסה"}),r.jsxs("select",{value:h.entrance||"A",onChange:v=>N({...h,entrance:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"A",children:"א'"}),r.jsx("option",{value:"B",children:"ב'"}),r.jsx("option",{value:"C",children:"ג'"}),r.jsx("option",{value:"D",children:"ד'"})]})]})]}),h.ownership==="renter"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"שם בעל הדירה"}),r.jsx("input",{type:"text",value:h.ownerName||"",onChange:v=>N({...h,ownerName:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"טלפון בעל הדירה"}),r.jsx("input",{type:"tel",value:h.ownerPhone||"",onChange:v=>N({...h,ownerPhone:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"טלפון ראשי"}),r.jsx("input",{type:"tel",required:!0,value:h.phone||"",onChange:v=>N({...h,phone:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"טלפון נוסף"}),r.jsx("input",{type:"tel",value:h.phone2||"",onChange:v=>N({...h,phone2:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"סכום חודשי מותאם אישית"}),r.jsx("input",{type:"number",min:"0",value:h.monthlyAmount||"",onChange:v=>N({...h,monthlyAmount:v.target.value?parseInt(v.target.value):void 0}),placeholder:`ברירת מחדל: ₪${e.settings.monthlyAmount}`,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"אמצעי תשלום"}),r.jsxs("select",{value:h.paymentMethod||"cash",onChange:v=>N({...h,paymentMethod:v.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"cash",children:"מזומן"}),r.jsx("option",{value:"credit",children:"אשראי"})]})]})]}),h.paymentMethod==="credit"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"יום חיוב בחודש"}),r.jsx("input",{type:"number",min:"1",max:"31",value:h.creditDay||1,onChange:v=>N({...h,creditDay:parseInt(v.target.value)}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(F,{variant:"secondary",onClick:()=>a(!1),children:"ביטול"}),r.jsx(F,{type:"submit",children:f?"עדכן":"הוסף"})]})]})}),r.jsx(O,{title:"הסבר - תיקון קישורי WhatsApp",children:r.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(oi,{size:16,className:"text-green-600"}),r.jsxs("span",{children:[r.jsx("strong",{children:"קישור מתוקן:"})," כעת הקישור ל-WhatsApp פועל נכון ופותח את הצ'אט"]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ui,{size:16,className:"text-blue-600"}),r.jsxs("span",{children:[r.jsx("strong",{children:"ניקוי מספרים:"})," המערכת מנקה אוטומטית מספרי טלפון ומוסיפה קידומת ישראל"]})]}),r.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-green-800 mb-1",children:"✅ תוקן:"}),r.jsxs("ul",{className:"text-green-700 text-sm space-y-1",children:[r.jsx("li",{children:"• ✅ קישור WhatsApp פועל נכון"}),r.jsx("li",{children:"• ✅ ניקוי אוטומטי של מספרי טלפון"}),r.jsx("li",{children:"• ✅ הוספת קידומת ישראל (972) אוטומטית"}),r.jsx("li",{children:"• ✅ הודעה מותאמת אישית עם פרטי החוב"}),r.jsx("li",{children:"• ✅ זיהוי אוטומטי של סוג הטלפון (ראשי/נוסף/בעלים)"})]})]}),r.jsx("p",{className:"text-xs",children:"כעת כשתלחץ על סמל WhatsApp, הוא יפתח את האפליקציה עם המספר הנכון וההודעה המוכנה."})]})})]})},Im=({building:e,onUpdateBuilding:t})=>{const n=new Date().getFullYear(),s=["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],l=(o,m)=>e.payments.find(g=>g.tenantId===o&&g.month===m&&g.year===n),i=(o,m)=>{const g=l(o,m),f=e.tenants.find(w=>w.id===o);if(!f)return;const x=f.monthlyAmount||e.settings.monthlyAmount;t(w=>{let h=[...w.payments],N=[...w.pettyCash];return g?g.paid?(h=h.map(T=>T.tenantId===o&&T.month===m&&T.year===n?{...T,paid:!1}:T),N=N.filter(T=>!(T.description===`תשלום ${f.name} - ${s[m-1]}`&&T.type==="income"))):(h=h.map(T=>T.tenantId===o&&T.month===m&&T.year===n?{...T,paid:!0}:T),N.push({id:Date.now().toString(),date:new Date().toISOString().split("T")[0],description:`תשלום ${f.name} - ${s[m-1]}`,type:"income",amount:w.settings.pettyCashTransfer})):(h.push({tenantId:o,month:m,year:n,paid:!0,amount:x}),N.push({id:Date.now().toString(),date:new Date().toISOString().split("T")[0],description:`תשלום ${f.name} - ${s[m-1]}`,type:"income",amount:w.settings.pettyCashTransfer})),{...w,payments:h,pettyCash:N}})},a=()=>{if(!confirm("האם אתה בטוח שברצונך לסמן את כל התשלומים החסרים כמושלמים?"))return;const o=new Date().getMonth()+1;t(m=>{let g=[...m.payments],f=[...m.pettyCash];return m.tenants.forEach(x=>{for(let w=1;w<=o;w++){const h=l(x.id,w);if(!h||!h.paid){const N=x.monthlyAmount||m.settings.monthlyAmount;h?g=g.map(d=>d.tenantId===x.id&&d.month===w&&d.year===n?{...d,paid:!0}:d):g.push({tenantId:x.id,month:w,year:n,paid:!0,amount:N}),f.some(d=>d.description===`תשלום ${x.name} - ${s[w-1]}`&&d.type==="income")||f.push({id:`${Date.now()}-${x.id}-${w}`,date:new Date().toISOString().split("T")[0],description:`תשלום ${x.name} - ${s[w-1]}`,type:"income",amount:m.settings.pettyCashTransfer})}}}),{...m,payments:g,pettyCash:f}})},u=()=>{confirm("האם אתה בטוח שברצונך לעדכן את כל סכומי הקופה הקטנה בהתאם לסכום הנוכחי? פעולה זו תשנה את כל התנועות הקיימות מתשלומי דיירים.")&&(t(o=>{const m=o.pettyCash.map(g=>g.type==="income"&&g.description.includes("תשלום")?{...g,amount:o.settings.pettyCashTransfer}:g);return{...o,pettyCash:m}}),alert("כל סכומי הקופה הקטנה עודכנו בהצלחה!"))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["מעקב גבייה ",n]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(F,{onClick:u,variant:"secondary",children:"עדכן קופה קטנה רטרואקטיבי"}),r.jsx(F,{onClick:a,variant:"success",children:"סמן הכל כמושלם"})]})]}),r.jsx(O,{children:r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-900 sticky right-0 bg-white z-10",children:"דייר"}),s.map((o,m)=>r.jsxs("th",{className:"text-center py-3 px-2 font-medium text-gray-900 min-w-[80px]",children:[r.jsx("div",{className:"text-xs",children:o}),r.jsx("div",{className:"text-xs text-gray-500",children:m+1})]},o))]})}),r.jsx("tbody",{children:e.tenants.map(o=>r.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[r.jsxs("td",{className:"py-3 px-4 font-medium text-gray-900 sticky right-0 bg-white",children:[r.jsx("div",{children:o.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:["דירה ",o.apartment]})]}),s.map((m,g)=>{const f=g+1,x=l(o.id,f),w=(x==null?void 0:x.paid)||!1,h=new Date().getMonth()+1,N=f<=h;return r.jsx("td",{className:"text-center py-3 px-2",children:N&&r.jsx("button",{onClick:()=>i(o.id,f),className:`w-8 h-8 rounded-full flex items-center justify-center transition-colors ${w?"bg-green-100 text-green-600 hover:bg-green-200":"bg-red-100 text-red-600 hover:bg-red-200"}`,title:w?"לחץ לביטול תשלום":"לחץ לסימון כמושלם",children:w?r.jsx(No,{size:16}):r.jsx(bs,{size:16})})},f)})]},o.id))})]}),e.tenants.length===0&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"אין דיירים במערכת"})})]})}),r.jsx(O,{title:"הסבר",children:r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(No,{size:12,className:"text-green-600"})}),r.jsx("span",{children:"תשלום בוצע"})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(bs,{size:12,className:"text-red-600"})}),r.jsx("span",{children:"תשלום לא בוצע"})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-4",children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"✨ חדש - עדכון רטרואקטיבי:"}),r.jsxs("ul",{className:"text-blue-700 text-sm space-y-1",children:[r.jsx("li",{children:'• ✅ כפתור "עדכן קופה קטנה רטרואקטיבי" מעדכן את כל התנועות הקיימות'}),r.jsx("li",{children:"• ✅ השינוי חל על כל תשלומי הדיירים שכבר בוצעו בעבר"}),r.jsx("li",{children:"• ✅ הסכום החדש יחול על כל התנועות מתשלומי דיירים"})]})]}),r.jsxs("p",{className:"mt-4 text-xs",children:["לחיצה על הסמל תשנה את סטטוס התשלום. כאשר מסמנים תשלום כמושלם, ₪",e.settings.pettyCashTransfer," יועברו אוטומטית לקופה הקטנה."]})]})})]})},Lm=({building:e,onUpdateBuilding:t})=>{const[n,s]=L.useState(!1),[l,i]=L.useState(null),[a,u]=L.useState("all"),[o,m]=L.useState(new Date().getFullYear()),[g,f]=L.useState({date:new Date().toISOString().split("T")[0],description:"",category:Ln[0],amount:0,notes:""}),x=e.expenses.filter(c=>{const j=new Date(c.date).getFullYear();return(a==="all"||c.category===a)&&j===o}),w=x.reduce((c,j)=>c+j.amount,0),h=x.reduce((c,j)=>(c[j.category]=(c[j.category]||0)+j.amount,c),{}),N=Array.from(new Set(e.expenses.map(c=>new Date(c.date).getFullYear()))).sort((c,j)=>j-c);N.length===0&&N.push(new Date().getFullYear());const T=c=>{c?(i(c),f(c)):(i(null),f({date:new Date().toISOString().split("T")[0],description:"",category:Ln[0],amount:0,notes:""})),s(!0)},d=c=>{c.preventDefault();const j={id:(l==null?void 0:l.id)||Date.now().toString(),date:g.date,description:g.description,category:g.category,amount:g.amount,notes:g.notes,fromIssue:(l==null?void 0:l.fromIssue)||!1,issueId:l==null?void 0:l.issueId};t(S=>({...S,expenses:l?S.expenses.map(k=>k.id===l.id?j:k):[...S.expenses,j]})),s(!1)},p=c=>{const j=e.expenses.find(S=>S.id===c);if(j!=null&&j.fromIssue){alert("לא ניתן למחוק הוצאה שנוצרה מתקלה. יש למחוק את התקלה עצמה.");return}confirm("האם אתה בטוח שברצונך למחוק הוצאה זו?")&&t(S=>({...S,expenses:S.expenses.filter(k=>k.id!==c)}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"הוצאות כלליות"}),r.jsxs(F,{onClick:()=>T(),children:[r.jsx(_t,{size:16,className:"ml-1"}),"הוסף הוצאה"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(O,{className:"bg-gradient-to-br from-red-50 to-red-100",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-sm font-medium text-red-600",children:["סך הוצאות ",o]}),r.jsxs("p",{className:"text-2xl font-bold text-red-700",children:["₪",w.toLocaleString()]})]})}),r.jsx(O,{className:"bg-gradient-to-br from-blue-50 to-blue-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm font-medium text-blue-600",children:"מספר הוצאות"}),r.jsx("p",{className:"text-2xl font-bold text-blue-700",children:x.length})]})}),r.jsx(O,{className:"bg-gradient-to-br from-purple-50 to-purple-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm font-medium text-purple-600",children:"ממוצע חודשי"}),r.jsxs("p",{className:"text-2xl font-bold text-purple-700",children:["₪",Math.round(w/12).toLocaleString()]})]})})]}),r.jsx(O,{children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"קטגוריה"}),r.jsxs("select",{value:a,onChange:c=>u(c.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[r.jsx("option",{value:"all",children:"כל הקטגוריות"}),Ln.map(c=>r.jsx("option",{value:c,children:c},c))]})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"שנה"}),r.jsx("select",{value:o,onChange:c=>m(parseInt(c.target.value)),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:N.map(c=>r.jsx("option",{value:c,children:c},c))})]})]})}),Object.keys(h).length>0&&r.jsx(O,{title:"התפלגות הוצאות לפי קטגוריה",children:r.jsx("div",{className:"space-y-3",children:Object.entries(h).sort(([,c],[,j])=>j-c).map(([c,j])=>{const S=j/w*100;return r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"font-medium text-gray-700",children:c}),r.jsxs("span",{className:"text-gray-900",children:["₪",j.toLocaleString()," (",S.toFixed(1),"%)"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${S}%`}})})]},c)})})}),r.jsx(O,{title:"רשימת הוצאות",children:r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"תאריך"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"תיאור"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"קטגוריה"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"סכום"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"הערות"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"פעולות"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.sort((c,j)=>new Date(j.date).getTime()-new Date(c.date).getTime()).map(c=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(c.date).toLocaleDateString("he-IL")}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:r.jsxs("div",{className:"flex items-center",children:[c.fromIssue&&r.jsx(jm,{size:16,className:"text-orange-500 ml-2",title:"נוצר מתקלה"}),c.description]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:c.category})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["₪",c.amount.toLocaleString()]}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:c.notes||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>T(c),className:"text-blue-600 hover:text-blue-800",title:"ערוך",disabled:c.fromIssue,children:r.jsx(pt,{size:16})}),r.jsx("button",{onClick:()=>p(c.id),className:"text-red-600 hover:text-red-800",title:"מחק",disabled:c.fromIssue,children:r.jsx(mt,{size:16})})]})})]},c.id))})]}),x.length===0&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"אין הוצאות להצגה"})})]})}),r.jsx(Ke,{isOpen:n,onClose:()=>s(!1),title:l?"ערוך הוצאה":"הוסף הוצאה חדשה",children:r.jsxs("form",{onSubmit:d,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"תאריך"}),r.jsx("input",{type:"date",required:!0,value:g.date||"",onChange:c=>f({...g,date:c.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"קטגוריה"}),r.jsx("select",{value:g.category||Ln[0],onChange:c=>f({...g,category:c.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",children:Ln.map(c=>r.jsx("option",{value:c,children:c},c))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"תיאור"}),r.jsx("input",{type:"text",required:!0,value:g.description||"",onChange:c=>f({...g,description:c.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"תיאור ההוצאה"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"סכום"}),r.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:g.amount||"",onChange:c=>f({...g,amount:parseFloat(c.target.value)||0}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"הערות"}),r.jsx("textarea",{value:g.notes||"",onChange:c=>f({...g,notes:c.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"הערות נוספות (אופציונלי)"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(F,{variant:"secondary",onClick:()=>s(!1),children:"ביטול"}),r.jsx(F,{type:"submit",children:l?"עדכן":"הוסף"})]})]})})]})},Om=({building:e,onUpdateBuilding:t})=>{const[n,s]=L.useState(!1),[l,i]=L.useState(null),[a,u]=L.useState("all"),[o,m]=L.useState("all"),[g,f]=L.useState({date:new Date().toISOString().split("T")[0],description:"",type:"expense",amount:0}),x=e.pettyCash.reduce((k,P)=>P.type==="income"?k+P.amount:k-P.amount,0),w=new Date().getFullYear(),h=e.pettyCash.filter(k=>new Date(k.date).getFullYear()===w),N=h.filter(k=>{const P=a==="all"||k.type===a,b=o==="all"||new Date(k.date).getMonth()===parseInt(o);return P&&b}),T=h.filter(k=>k.type==="income").reduce((k,P)=>k+P.amount,0),d=h.filter(k=>k.type==="expense").reduce((k,P)=>k+P.amount,0),p=["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],c=k=>{k?(i(k),f(k)):(i(null),f({date:new Date().toISOString().split("T")[0],description:"",type:"expense",amount:0})),s(!0)},j=k=>{k.preventDefault();const P={id:(l==null?void 0:l.id)||Date.now().toString(),date:g.date,description:g.description,type:g.type,amount:g.amount};t(b=>({...b,pettyCash:l?b.pettyCash.map(v=>v.id===l.id?P:v):[...b.pettyCash,P]})),s(!1)},S=k=>{confirm("האם אתה בטוח שברצונך למחוק תנועה זו?")&&t(P=>({...P,pettyCash:P.pettyCash.filter(b=>b.id!==k)}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"קופה קטנה"}),r.jsxs(F,{onClick:()=>c(),children:[r.jsx(_t,{size:16,className:"ml-1"}),"הוסף תנועה"]})]}),r.jsx(O,{className:"bg-gradient-to-br from-green-50 to-green-100",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center mb-2",children:[r.jsx(Ss,{className:"h-8 w-8 text-green-600 ml-2"}),r.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"יתרה נוכחית"})]}),r.jsxs("p",{className:`text-3xl font-bold ${x>=0?"text-green-700":"text-red-700"}`,children:["₪",x.toLocaleString()]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(O,{className:"bg-gradient-to-br from-blue-50 to-blue-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-blue-600",children:["הכנסות ",w]}),r.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:["₪",T.toLocaleString()]})]}),r.jsx(Bc,{className:"h-8 w-8 text-blue-500"})]})}),r.jsx(O,{className:"bg-gradient-to-br from-red-50 to-red-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium text-red-600",children:["הוצאות ",w]}),r.jsxs("p",{className:"text-2xl font-bold text-red-700",children:["₪",d.toLocaleString()]})]}),r.jsx(oa,{className:"h-8 w-8 text-red-500"})]})}),r.jsx(O,{className:"bg-gradient-to-br from-purple-50 to-purple-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-purple-600",children:"מאזן שנתי"}),r.jsxs("p",{className:`text-2xl font-bold ${T-d>=0?"text-green-700":"text-red-700"}`,children:["₪",(T-d).toLocaleString()]})]}),r.jsx(Ss,{className:"h-8 w-8 text-purple-500"})]})})]}),r.jsx(O,{children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"סוג תנועה"}),r.jsxs("select",{value:a,onChange:k=>u(k.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[r.jsx("option",{value:"all",children:"כל התנועות"}),r.jsx("option",{value:"income",children:"הכנסות"}),r.jsx("option",{value:"expense",children:"הוצאות"})]})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"חודש"}),r.jsxs("select",{value:o,onChange:k=>m(k.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[r.jsx("option",{value:"all",children:"כל החודשים"}),p.map((k,P)=>r.jsx("option",{value:P.toString(),children:k},P))]})]})]})}),r.jsx(O,{title:"תנועות בקופה",children:r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"תאריך"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"תיאור"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"סוג"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"סכום"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"יתרה"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"פעולות"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.sort((k,P)=>new Date(P.date).getTime()-new Date(k.date).getTime()).map((k,P)=>{const b=e.pettyCash.filter(y=>new Date(y.date)<=new Date(k.date)).sort((y,_)=>new Date(y.date).getTime()-new Date(_.date).getTime());let v=0;for(const y of b)if(y.type==="income"?v+=y.amount:v-=y.amount,y.id===k.id)break;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(k.date).toLocaleDateString("he-IL")}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:k.description}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.type==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.type==="income"?"הכנסה":"הוצאה"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsxs("span",{className:k.type==="income"?"text-green-600":"text-red-600",children:[k.type==="income"?"+":"-","₪",k.amount.toLocaleString()]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["₪",v.toLocaleString()]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>c(k),className:"text-blue-600 hover:text-blue-800",title:"ערוך",children:r.jsx(pt,{size:16})}),r.jsx("button",{onClick:()=>S(k.id),className:"text-red-600 hover:text-red-800",title:"מחק",children:r.jsx(mt,{size:16})})]})})]},k.id)})})]}),N.length===0&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500",children:"אין תנועות להצגה"})})]})}),r.jsx(Ke,{isOpen:n,onClose:()=>s(!1),title:l?"ערוך תנועה":"הוסף תנועה חדשה",children:r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"תאריך"}),r.jsx("input",{type:"date",required:!0,value:g.date||"",onChange:k=>f({...g,date:k.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"סוג תנועה"}),r.jsxs("select",{value:g.type||"expense",onChange:k=>f({...g,type:k.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"income",children:"הכנסה"}),r.jsx("option",{value:"expense",children:"הוצאה"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"תיאור"}),r.jsx("input",{type:"text",required:!0,value:g.description||"",onChange:k=>f({...g,description:k.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"תיאור התנועה"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"סכום"}),r.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:g.amount||"",onChange:k=>f({...g,amount:parseFloat(k.target.value)||0}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(F,{variant:"secondary",onClick:()=>s(!1),children:"ביטול"}),r.jsx(F,{type:"submit",children:l?"עדכן":"הוסף"})]})]})})]})},Rm=({globalEmployees:e,onUpdateEmployees:t})=>{const[n,s]=L.useState(!1),[l,i]=L.useState(null),[a,u]=L.useState({name:"",phone:"",startDate:new Date().toISOString().split("T")[0],baseSalary:0,workDaysPerMonth:21.67,absenceDays:0}),o=h=>{const N=h.baseSalary/h.workDaysPerMonth,T=h.absenceDays*N,d=h.baseSalary-T;return{baseSalary:h.baseSalary,dailyWage:N,absenceDays:h.absenceDays,totalDeduction:T,finalSalary:Math.max(0,d)}},m=h=>{h?(i(h),u(h)):(i(null),u({name:"",phone:"",startDate:new Date().toISOString().split("T")[0],baseSalary:0,workDaysPerMonth:21.67,absenceDays:0})),s(!0)},g=h=>{h.preventDefault();const N={id:(l==null?void 0:l.id)||Date.now().toString(),name:a.name,phone:a.phone,startDate:a.startDate,baseSalary:a.baseSalary,workDaysPerMonth:a.workDaysPerMonth,absenceDays:l?a.absenceDays:0};t(T=>l?T.map(d=>d.id===l.id?N:d):[...T,N]),s(!1)},f=h=>{confirm("האם אתה בטוח שברצונך למחוק עובד זה?")&&t(N=>N.filter(T=>T.id!==h))},x=(h,N)=>{t(T=>T.map(d=>d.id===h?{...d,absenceDays:N}:d))},w=e.reduce((h,N)=>h+o(N).finalSalary,0);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"ניהול עובדים"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"עובדים גלובליים - עובדים בכל הבניינים"})]}),r.jsxs(F,{onClick:()=>m(),children:[r.jsx(_t,{size:16,className:"ml-1"}),"הוסף עובד"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(O,{className:"bg-gradient-to-br from-blue-50 to-blue-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-600",children:"סך עובדים"}),r.jsx("p",{className:"text-2xl font-bold text-blue-700",children:e.length})]}),r.jsx(di,{className:"h-8 w-8 text-blue-500"})]})}),r.jsx(O,{className:"bg-gradient-to-br from-green-50 to-green-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-600",children:"שכר כולל חודשי"}),r.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["₪",Math.round(w).toLocaleString()]})]}),r.jsx(jo,{className:"h-8 w-8 text-green-500"})]})}),r.jsx(O,{className:"bg-gradient-to-br from-orange-50 to-orange-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-orange-600",children:"סך ימי היעדרות"}),r.jsx("p",{className:"text-2xl font-bold text-orange-700",children:e.reduce((h,N)=>h+N.absenceDays,0)})]}),r.jsx(ai,{className:"h-8 w-8 text-orange-500"})]})})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(h=>{const N=o(h);return r.jsx(O,{title:h.name,children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ui,{size:16,className:"text-gray-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:h.phone})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>m(h),className:"text-blue-600 hover:text-blue-800",title:"ערוך עובד",children:r.jsx(pt,{size:16})}),r.jsx("button",{onClick:()=>f(h.id),className:"text-red-600 hover:text-red-800",title:"מחק עובד",children:r.jsx(mt,{size:16})})]})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{children:["תחילת עבודה: ",new Date(h.startDate).toLocaleDateString("he-IL")]}),r.jsxs("p",{children:["ימי עבודה בחודש: ",h.workDaysPerMonth]})]}),r.jsxs("div",{className:"bg-orange-50 rounded-lg p-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ימי היעדרות החודש"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"number",min:"0",max:"31",value:h.absenceDays,onChange:T=>x(h.id,parseInt(T.target.value)||0),className:"w-20 border border-gray-300 rounded-lg px-2 py-1 text-center focus:ring-blue-500 focus:border-blue-500"}),r.jsx("span",{className:"text-sm text-gray-600",children:"ימים"})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[r.jsxs("h4",{className:"font-medium text-gray-900 flex items-center",children:[r.jsx(jo,{size:16,className:"ml-2"}),"חישוב שכר חודשי"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"שכר בסיס:"}),r.jsxs("span",{className:"font-medium text-gray-900 mr-2",children:["₪",N.baseSalary.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"שכר יומי:"}),r.jsxs("span",{className:"font-medium text-gray-900 mr-2",children:["₪",Math.round(N.dailyWage).toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"ימי היעדרות:"}),r.jsx("span",{className:"font-medium text-orange-600 mr-2",children:N.absenceDays})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"ניכוי:"}),r.jsxs("span",{className:"font-medium text-red-600 mr-2",children:["₪",Math.round(N.totalDeduction).toLocaleString()]})]})]}),r.jsx("div",{className:"border-t pt-2",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-medium text-gray-900",children:"שכר לתשלום:"}),r.jsxs("span",{className:"font-bold text-green-600 text-lg",children:["₪",Math.round(N.finalSalary).toLocaleString()]})]})})]})]})},h.id)})}),e.length===0&&r.jsx(O,{children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(di,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"אין עובדים במערכת"}),r.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"עובדים גלובליים עובדים בכל הבניינים"}),r.jsx(F,{className:"mt-4",onClick:()=>m(),children:"הוסף עובד ראשון"})]})}),r.jsx(Ke,{isOpen:n,onClose:()=>s(!1),title:l?"ערוך עובד":"הוסף עובד חדש",children:r.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"שם העובד"}),r.jsx("input",{type:"text",required:!0,value:a.name||"",onChange:h=>u({...a,name:h.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"שם מלא"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"טלפון"}),r.jsx("input",{type:"tel",required:!0,value:a.phone||"",onChange:h=>u({...a,phone:h.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"מספר טלפון"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"תאריך תחילת עבודה"}),r.jsx("input",{type:"date",required:!0,value:a.startDate||"",onChange:h=>u({...a,startDate:h.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"שכר בסיס חודשי"}),r.jsx("input",{type:"number",required:!0,min:"0",value:a.baseSalary||"",onChange:h=>u({...a,baseSalary:parseFloat(h.target.value)||0}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ימי עבודה בחודש"}),r.jsx("input",{type:"number",required:!0,min:"1",max:"31",step:"0.01",value:a.workDaysPerMonth||"",onChange:h=>u({...a,workDaysPerMonth:parseFloat(h.target.value)||21.67}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"21.67"})]}),l&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ימי היעדרות החודש"}),r.jsx("input",{type:"number",min:"0",max:"31",value:a.absenceDays||"",onChange:h=>u({...a,absenceDays:parseInt(h.target.value)||0}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),!l&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"שים לב:"})," עובד חדש יתחיל עם 0 ימי היעדרות. תוכל לעדכן ימי היעדרות אחרי ההוספה ישירות מהכרטיס של העובד."]})}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(F,{variant:"secondary",onClick:()=>s(!1),children:"ביטול"}),r.jsx(F,{type:"submit",children:l?"עדכן":"הוסף"})]})]})})]})},Am=({building:e,onUpdateBuilding:t})=>{const[n,s]=L.useState(!1),[l,i]=L.useState(null),[a,u]=L.useState("all"),[o,m]=L.useState(null),[g,f]=L.useState({x:0,y:0}),[x,w]=L.useState({date:new Date().toISOString().split("T")[0],reporterName:"",description:"",cost:0,status:"open"}),h=e.issues.filter(y=>a==="all"||y.status===a),N={open:e.issues.filter(y=>y.status==="open").length,inProgress:e.issues.filter(y=>y.status==="in-progress").length,resolved:e.issues.filter(y=>y.status==="resolved").length},T=e.issues.filter(y=>y.status==="resolved").reduce((y,_)=>y+_.cost,0),d=y=>{y?(i(y),w(y)):(i(null),w({date:new Date().toISOString().split("T")[0],reporterName:"",description:"",cost:0,status:"open"})),s(!0)},p=y=>{y.preventDefault();const _={id:(l==null?void 0:l.id)||Date.now().toString(),date:x.date,reporterName:x.reporterName,description:x.description,cost:x.cost,status:x.status};c(_),s(!1)},c=y=>{t(_=>{let $=_.issues.map(ie=>ie.id===y.id?y:ie);_.issues.find(ie=>ie.id===y.id)||($=[..._.issues,y]);let H=[..._.expenses];if(y.status==="resolved"&&y.cost>0)if(_.expenses.find(q=>q.issueId===y.id))H=H.map(q=>q.issueId===y.id?{...q,amount:y.cost,description:`תיקון תקלה: ${y.description}`}:q);else{const q={id:`issue-${y.id}`,date:new Date().toISOString().split("T")[0],description:`תיקון תקלה: ${y.description}`,category:"תיקונים",amount:y.cost,notes:`דווח על ידי: ${y.reporterName}`,fromIssue:!0,issueId:y.id};H.push(q)}return y.status!=="resolved"&&(H=H.filter(ie=>ie.issueId!==y.id)),{..._,issues:$,expenses:H}})},j=(y,_)=>{const $=_.currentTarget.getBoundingClientRect();f({x:$.left+$.width+10,y:$.top}),m(y)},S=(y,_)=>{const $=e.issues.find(ie=>ie.id===y);if(!$)return;const H={...$,status:_};c(H),m(null)},k=y=>{confirm("האם אתה בטוח שברצונך למחוק תקלה זו? ההוצאה הקשורה אליה תימחק גם כן.")&&t(_=>({..._,issues:_.issues.filter($=>$.id!==y),expenses:_.expenses.filter($=>$.issueId!==y)}))},P=y=>{switch(y){case"open":return r.jsx(st,{className:"h-5 w-5 text-red-500"});case"in-progress":return r.jsx(Br,{className:"h-5 w-5 text-orange-500"});case"resolved":return r.jsx(Ar,{className:"h-5 w-5 text-green-500"})}},b=y=>{switch(y){case"open":return"פתוח";case"in-progress":return"בטיפול";case"resolved":return"טופל"}},v=y=>{switch(y){case"open":return"bg-red-100 text-red-800 hover:bg-red-200 border-red-200";case"in-progress":return"bg-orange-100 text-orange-800 hover:bg-orange-200 border-orange-200";case"resolved":return"bg-green-100 text-green-800 hover:bg-green-200 border-green-200"}};return sd.useEffect(()=>{const y=$=>{$.key==="Escape"&&m(null)},_=$=>{o&&!$.target.closest(".status-modal")&&m(null)};return document.addEventListener("keydown",y),document.addEventListener("mousedown",_),()=>{document.removeEventListener("keydown",y),document.removeEventListener("mousedown",_)}},[o]),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"ניהול תקלות"}),r.jsxs(F,{onClick:()=>d(),children:[r.jsx(_t,{size:16,className:"ml-1"}),"דווח על תקלה"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(O,{className:"bg-gradient-to-br from-red-50 to-red-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-red-600",children:"תקלות פתוחות"}),r.jsx("p",{className:"text-2xl font-bold text-red-700",children:N.open})]}),r.jsx(st,{className:"h-8 w-8 text-red-500"})]})}),r.jsx(O,{className:"bg-gradient-to-br from-orange-50 to-orange-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-orange-600",children:"בטיפול"}),r.jsx("p",{className:"text-2xl font-bold text-orange-700",children:N.inProgress})]}),r.jsx(Br,{className:"h-8 w-8 text-orange-500"})]})}),r.jsx(O,{className:"bg-gradient-to-br from-green-50 to-green-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-600",children:"טופלו"}),r.jsx("p",{className:"text-2xl font-bold text-green-700",children:N.resolved})]}),r.jsx(Ar,{className:"h-8 w-8 text-green-500"})]})}),r.jsx(O,{className:"bg-gradient-to-br from-blue-50 to-blue-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-blue-600",children:"עלות כוללת"}),r.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:["₪",T.toLocaleString()]})]}),r.jsx(st,{className:"h-8 w-8 text-blue-500"})]})})]}),r.jsx(O,{children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"סינון לפי סטטוס:"}),r.jsxs("select",{value:a,onChange:y=>u(y.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[r.jsx("option",{value:"all",children:"כל התקלות"}),r.jsx("option",{value:"open",children:"פתוחות"}),r.jsx("option",{value:"in-progress",children:"בטיפול"}),r.jsx("option",{value:"resolved",children:"טופלו"})]})]})}),r.jsx(O,{title:"רשימת תקלות",children:r.jsxs("div",{className:"overflow-x-auto",style:{minHeight:"400px"},children:[r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"תאריך"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"מדווח"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"תיאור"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"עלות"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"סטטוס"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"פעולות"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.sort((y,_)=>new Date(_.date).getTime()-new Date(y.date).getTime()).map(y=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(y.date).toLocaleDateString("he-IL")}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.reporterName}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs",children:r.jsx("div",{className:"truncate",title:y.description,children:y.description})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:y.cost>0?`₪${y.cost.toLocaleString()}`:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:r.jsxs("button",{onClick:_=>j(y.id,_),className:`flex items-center space-x-2 px-3 py-1 rounded-full text-xs font-medium transition-all duration-200 border cursor-pointer ${v(y.status)}`,children:[P(y.status),r.jsx("span",{children:b(y.status)})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>d(y),className:"text-blue-600 hover:text-blue-800",title:"ערוך",children:r.jsx(pt,{size:16})}),r.jsx("button",{onClick:()=>k(y.id),className:"text-red-600 hover:text-red-800",title:"מחק",children:r.jsx(mt,{size:16})})]})})]},y.id))})]}),h.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(st,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"אין תקלות להצגה"})]})]})}),o&&r.jsxs("div",{className:"status-modal fixed z-50 bg-white border border-gray-200 rounded-lg shadow-xl p-4 min-w-[200px]",style:{left:`${g.x}px`,top:`${g.y}px`},children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"שנה סטטוס"}),r.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx(bs,{size:16})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{onClick:()=>S(o,"open"),className:"w-full flex items-center space-x-3 px-3 py-2 text-sm rounded-lg hover:bg-red-50 transition-colors",children:[r.jsx(st,{className:"h-4 w-4 text-red-500"}),r.jsx("span",{className:"text-red-700",children:"פתוח"})]}),r.jsxs("button",{onClick:()=>S(o,"in-progress"),className:"w-full flex items-center space-x-3 px-3 py-2 text-sm rounded-lg hover:bg-orange-50 transition-colors",children:[r.jsx(Br,{className:"h-4 w-4 text-orange-500"}),r.jsx("span",{className:"text-orange-700",children:"בטיפול"})]}),r.jsxs("button",{onClick:()=>S(o,"resolved"),className:"w-full flex items-center space-x-3 px-3 py-2 text-sm rounded-lg hover:bg-green-50 transition-colors",children:[r.jsx(Ar,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{className:"text-green-700",children:"טופל"})]})]})]}),r.jsx(O,{title:"הסבר - שינוי סטטוס מהיר",children:r.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"!"})}),r.jsx("span",{children:"לחץ על הסטטוס הנוכחי של התקלה לפתיחת חלון שינוי מהיר"})]}),r.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"סטטוסי תקלות:"}),r.jsxs("ul",{className:"space-y-1 text-blue-700",children:[r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(st,{size:14,className:"text-red-500"}),r.jsxs("span",{children:[r.jsx("strong",{children:"פתוח"})," - תקלה חדשה שטרם טופלה"]})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(Br,{size:14,className:"text-orange-500"}),r.jsxs("span",{children:[r.jsx("strong",{children:"בטיפול"})," - התקלה נמצאת בתהליך טיפול"]})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(Ar,{size:14,className:"text-green-500"}),r.jsxs("span",{children:[r.jsx("strong",{children:"טופל"})," - התקלה נפתרה (יוצר הוצאה אוטומטית)"]})]})]})]}),r.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-green-800 mb-1",children:"💡 תוקן:"}),r.jsxs("ul",{className:"text-green-700 text-sm space-y-1",children:[r.jsx("li",{children:"• ✅ תקלות לא משתכפלות יותר"}),r.jsx("li",{children:"• ✅ שינוי סטטוס מעדכן את השורה הקיימת"}),r.jsx("li",{children:"• ✅ מחיקה של תקלה מוחקת גם את ההוצאה"}),r.jsx("li",{children:"• ✅ חלון קטן ונוח לשינוי מהיר"})]})]}),r.jsx("p",{className:"text-xs",children:'כאשר מעבירים תקלה לסטטוס "טופל" עם עלות, המערכת תיצור אוטומטית הוצאה תואמת.'})]})}),r.jsx(Ke,{isOpen:n,onClose:()=>s(!1),title:l?"ערוך תקלה":"דווח על תקלה חדשה",size:"lg",children:r.jsxs("form",{onSubmit:p,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"תאריך דיווח"}),r.jsx("input",{type:"date",required:!0,value:x.date||"",onChange:y=>w({...x,date:y.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"שם המדווח"}),r.jsx("input",{type:"text",required:!0,value:x.reporterName||"",onChange:y=>w({...x,reporterName:y.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"שם המדווח על התקלה"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"תיאור התקלה"}),r.jsx("textarea",{required:!0,value:x.description||"",onChange:y=>w({...x,description:y.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",rows:4,placeholder:"תיאור מפורט של התקלה"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"עלות תיקון"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:x.cost||"",onChange:y=>w({...x,cost:parseFloat(y.target.value)||0}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"סטטוס"}),r.jsxs("select",{value:x.status||"open",onChange:y=>w({...x,status:y.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"open",children:"פתוח"}),r.jsx("option",{value:"in-progress",children:"בטיפול"}),r.jsx("option",{value:"resolved",children:"טופל"})]})]})]}),x.status==="resolved"&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"שים לב:"}),' כאשר מסמנים תקלה כ"טופל" עם עלות, המערכת תיצור אוטומטית הוצאה תואמת בלשונית "הוצאות כלליות".']})}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(F,{variant:"secondary",onClick:()=>s(!1),children:"ביטול"}),r.jsx(F,{type:"submit",children:l?"עדכן":"הוסף"})]})]})})]})},Bm=({shouldBackupToday:e,lastBackupDate:t,onForceBackup:n,getStoredBackups:s,downloadStoredBackup:l,cleanOldBackups:i})=>{const a=f=>f?new Date(f).toLocaleDateString("he-IL"):"אף פעם",u=f=>f<1024?f+" B":f<1048576?Math.round(f/1024)+" KB":Math.round(f/1048576)+" MB",o=()=>{if(!t)return"text-red-600";const f=new Date().toISOString().split("T")[0];return t===f?"text-green-600":"text-orange-600"},m=()=>{if(!t)return"לא בוצע גיבוי";const f=new Date().toISOString().split("T")[0];return t===f?"בוצע גיבוי היום (ברקע)":"טעון גיבוי"},g=s?s():[];return r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ci,{className:"h-6 w-6 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"גיבוי אוטומטי יומי (ברקע)"}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[r.jsx(ai,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-gray-600",children:"גיבוי אחרון:"}),r.jsx("span",{className:`font-medium ${o()}`,children:a(t)})]}),r.jsx("p",{className:`text-sm font-medium ${o()}`,children:m()})]})]}),r.jsxs(F,{onClick:n,size:"sm",variant:"secondary",children:[r.jsx(fr,{size:16,className:"ml-1"}),"הורד גיבוי עכשיו"]})]}),g.length>0&&r.jsxs("div",{className:"border-t border-blue-200 pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Nm,{className:"h-4 w-4 text-blue-600"}),r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["גיבויים שמורים (",g.length,")"]})]}),i&&r.jsxs(F,{onClick:i,size:"sm",variant:"secondary",className:"text-xs",children:[r.jsx(mt,{size:12,className:"ml-1"}),"נקה ישנים"]})]}),r.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:g.slice(0,5).map(f=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ai,{className:"h-3 w-3 text-gray-400"}),r.jsx("span",{className:"text-xs text-gray-600",children:a(f.date)}),r.jsxs("span",{className:"text-xs text-gray-400",children:["(",u(f.size),")"]})]}),l&&r.jsx("button",{onClick:()=>l(f.date),className:"text-blue-600 hover:text-blue-800 text-xs",title:"הורד גיבוי זה",children:r.jsx(fr,{size:12})})]},f.date))})]}),r.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-green-800",children:[r.jsx("strong",{children:"גיבוי שקט:"})," הגיבוי האוטומטי כעת פועל ברקע ולא פותח חלון הורדה. הנתונים נשמרים במחשב שלך ותוכל להוריד אותם בכל עת."]})})]})},$m=({building:e,onUpdateBuilding:t})=>{const{data:n,updateData:s,addBuilding:l,deleteBuilding:i,exportData:a,importData:u,clearAllData:o,toggleAutoBackup:m,shouldBackupToday:g,lastBackupDate:f,forceBackup:x,getStoredBackups:w,downloadStoredBackup:h,cleanOldBackups:N}=ia(),[T,d]=L.useState(!1),[p,c]=L.useState(!1),[j,S]=L.useState(null),[k,P]=L.useState(""),[b,v]=L.useState(""),[y,_]=L.useState(e.settings),[$,H]=L.useState(n.settings.title),[ie,q]=L.useState(n.settings.whatsappTemplate),te=L.useRef(null),X=()=>{t(C=>({...C,settings:y})),alert("הגדרות הבניין נשמרו בהצלחה!")},z=()=>{s(C=>({...C,settings:{...C.settings,title:$}})),alert("כותרת המערכת עודכנה בהצלחה!")},R=()=>{s(C=>({...C,settings:{...C.settings,whatsappTemplate:ie}})),alert("תבנית WhatsApp נשמרה בהצלחה!")},B=C=>{C.preventDefault(),k.trim()&&(l(k.trim()),P(""),d(!1))},Y=(C,A)=>{S(C),v(A),c(!0)},Z=C=>{C.preventDefault(),b.trim()&&j&&(s(A=>({...A,buildings:A.buildings.map(W=>W.id===j?{...W,name:b.trim(),settings:{...W.settings,name:b.trim()}}:W)})),v(""),S(null),c(!1),alert("שם הבניין עודכן בהצלחה!"))},ce=C=>{const A=n.buildings.find(W=>W.id===C);A&&confirm(`האם אתה בטוח שברצונך למחוק את הבניין "${A.name}"? כל הנתונים יימחקו לצמיתות.`)&&i(C)},E=async C=>{var W;const A=(W=C.target.files)==null?void 0:W[0];if(A){try{await u(A),alert("הנתונים יובאו בהצלחה!"),H(n.settings.title),q(n.settings.whatsappTemplate)}catch{alert("שגיאה בייבוא הנתונים. אנא בדוק שהקובץ תקין.")}te.current&&(te.current.value="")}},I=()=>{confirm("האם אתה בטוח שברצונך למחוק את כל הנתונים? פעולה זו אינה ניתנת לביטול!")&&confirm("זוהי אזהרה אחרונה! כל הנתונים של כל הבניינים יימחקו לצמיתות. האם להמשיך?")&&(o(),alert("כל הנתונים נמחקו בהצלחה."))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ac,{className:"h-8 w-8 text-blue-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"הגדרות מערכת"})]}),r.jsx(O,{title:"גיבוי אוטומטי יומי",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(Bm,{shouldBackupToday:g,lastBackupDate:f,onForceBackup:x,getStoredBackups:w,downloadStoredBackup:h,cleanOldBackups:N}),r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ci,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"הפעלת גיבוי אוטומטי"}),r.jsx("p",{className:"text-sm text-gray-600",children:"המערכת תיצור גיבוי אוטומטי פעם ביום (ברקע)"})]})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:n.settings.autoBackupEnabled,onChange:C=>m(C.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})}),r.jsx(O,{title:"ניהול בניינים",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"בניינים במערכת"}),r.jsxs(F,{onClick:()=>d(!0),children:[r.jsx(_t,{size:16,className:"ml-1"}),"הוסף בניין"]})]}),r.jsx("div",{className:"space-y-2",children:n.buildings.map(C=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(aa,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"font-medium text-gray-900",children:C.name}),C.id===n.currentBuildingId&&r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"פעיל"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>Y(C.id,C.name),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"ערוך שם בניין",children:r.jsx(pt,{size:16})}),n.buildings.length>1&&r.jsx("button",{onClick:()=>ce(C.id),className:"text-red-600 hover:text-red-800",title:"מחק בניין",children:r.jsx(mt,{size:16})})]})]},C.id))})]})}),r.jsx(O,{title:`הגדרות בניין: ${e.name}`,children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"הגדרות כספיות"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"סכום גבייה חודשי (ברירת מחדל)"}),r.jsx("input",{type:"number",min:"0",value:y.monthlyAmount,onChange:C=>_({...y,monthlyAmount:parseInt(C.target.value)||0}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"העברה לקופה קטנה מכל תשלום"}),r.jsx("input",{type:"number",min:"0",value:y.pettyCashTransfer,onChange:C=>_({...y,pettyCashTransfer:parseInt(C.target.value)||0}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"קודי כניסה"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:["A","B","C","D"].map(C=>r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["כניסה ",C]}),r.jsx("input",{type:"text",value:y.entranceCodes[C]||"",onChange:A=>_({...y,entranceCodes:{...y.entranceCodes,[C]:A.target.value}}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"קוד כניסה"})]},C))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"פרטי מעלית"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"חברת מעליות"}),r.jsx("input",{type:"text",value:y.elevator.company,onChange:C=>_({...y,elevator:{...y.elevator,company:C.target.value}}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"שם החברה"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"טלפון חירום"}),r.jsx("input",{type:"tel",value:y.elevator.phone,onChange:C=>_({...y,elevator:{...y.elevator,phone:C.target.value}}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"מספר טלפון"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"פרטי חשמל"}),["A","B","C","D"].map(C=>{var A,W;return r.jsxs("div",{className:"mb-4",children:[r.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:["כניסה ",C]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"מספר חוזה"}),r.jsx("input",{type:"text",value:((A=y.electricity[C])==null?void 0:A.contract)||"",onChange:Xt=>_({...y,electricity:{...y.electricity,[C]:{...y.electricity[C],contract:Xt.target.value}}}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"מספר חוזה"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"מספר מונה"}),r.jsx("input",{type:"text",value:((W=y.electricity[C])==null?void 0:W.meter)||"",onChange:Xt=>_({...y,electricity:{...y.electricity,[C]:{...y.electricity[C],meter:Xt.target.value}}}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"מספר מונה"})]})]})]},C)})]}),r.jsxs(F,{onClick:X,className:"w-full",children:[r.jsx(Xn,{size:16,className:"ml-1"}),"שמור הגדרות בניין"]})]})}),r.jsx(O,{title:"גיבוי ושחזור נתונים",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(F,{onClick:a,variant:"secondary",children:[r.jsx(fr,{size:16,className:"ml-1"}),"ייצא נתונים (גיבוי)"]}),r.jsxs("div",{children:[r.jsx("input",{ref:te,type:"file",accept:".json",onChange:E,className:"hidden"}),r.jsxs(F,{onClick:()=>{var C;return(C=te.current)==null?void 0:C.click()},variant:"secondary",className:"w-full",children:[r.jsx($c,{size:16,className:"ml-1"}),"ייבא נתונים (שחזור)"]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(st,{className:"h-5 w-5 text-red-500"}),r.jsx("span",{className:"font-medium text-red-700",children:"אזור מסוכן"})]}),r.jsxs(F,{onClick:I,variant:"danger",className:"w-full",children:[r.jsx(mt,{size:16,className:"ml-1"}),"מחק את כל הנתונים"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"פעולה זו תמחק את כל הנתונים של כל הבניינים ולא ניתן לבטלה!"})]})]})}),r.jsx(O,{title:"הגדרות כלליות",children:r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"כותרת המערכת"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:$,onChange:C=>H(C.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"כותרת המערכת"}),r.jsxs(F,{onClick:z,children:[r.jsx(Xn,{size:16,className:"ml-1"}),"שמור"]})]})]})})}),r.jsx(O,{title:"תבנית הודעת WhatsApp (כללית לכל הבניינים)",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(oi,{className:"h-5 w-5 text-blue-600"}),r.jsx("h4",{className:"font-medium text-blue-800",children:"תבנית גלובלית"})]}),r.jsx("p",{className:"text-sm text-blue-700",children:"תבנית זו תשמש לכל הבניינים במערכת. שינוי כאן ישפיע על כל הודעות WhatsApp שיישלחו."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"תבנית ההודעה"}),r.jsx("textarea",{value:ie,onChange:C=>q(C.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",rows:6,placeholder:"תבנית ההודעה..."}),r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[r.jsx("p",{className:"mb-1",children:"ניתן להשתמש בתגים הבאים:"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:"{שם}"}),r.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:"{חודשים}"}),r.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:"{סכום_כולל}"})]})]})]}),r.jsxs(F,{onClick:R,className:"w-full",children:[r.jsx(Xn,{size:16,className:"ml-1"}),"שמור תבנית WhatsApp"]})]})}),r.jsx(O,{title:"הסבר - גיבוי שקט",children:r.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ci,{size:16,className:"text-green-600"}),r.jsxs("span",{children:[r.jsx("strong",{children:"גיבוי שקט:"})," הגיבוי האוטומטי כעת פועל ברקע ולא פותח חלון הורדה"]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(fr,{size:16,className:"text-blue-600"}),r.jsxs("span",{children:[r.jsx("strong",{children:"גיבויים שמורים:"})," תוכל לראות ולהוריד גיבויים קודמים מהרשימה"]})]}),r.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[r.jsx("h4",{className:"font-medium text-green-800 mb-1",children:"✅ תוקן:"}),r.jsxs("ul",{className:"text-green-700 text-sm space-y-1",children:[r.jsx("li",{children:"• ✅ גיבוי אוטומטי פועל ברקע ללא הפרעה"}),r.jsx("li",{children:"• ✅ שמירת עד 7 גיבויים אחרונים במחשב"}),r.jsx("li",{children:"• ✅ אפשרות להוריד גיבויים קודמים בכל עת"}),r.jsx("li",{children:"• ✅ ניקוי אוטומטי של גיבויים ישנים"}),r.jsx("li",{children:'• ✅ כפתור "הורד גיבוי עכשיו" לגיבוי ידני'})]})]}),r.jsx("p",{className:"text-xs",children:"כעת הגיבוי האוטומטי לא יפריע לעבודה שלך ויפעל בשקט ברקע."})]})}),r.jsx(Ke,{isOpen:T,onClose:()=>d(!1),title:"הוסף בניין חדש",children:r.jsxs("form",{onSubmit:B,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"שם הבניין"}),r.jsx("input",{type:"text",required:!0,value:k,onChange:C=>P(C.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"שם הבניין החדש"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(F,{variant:"secondary",onClick:()=>d(!1),children:"ביטול"}),r.jsx(F,{type:"submit",children:"הוסף בניין"})]})]})}),r.jsx(Ke,{isOpen:p,onClose:()=>c(!1),title:"ערוך שם בניין",children:r.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"שם הבניין"}),r.jsx("input",{type:"text",required:!0,value:b,onChange:C=>v(C.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"שם הבניין",autoFocus:!0})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"שים לב:"})," שינוי שם הבניין יתעדכן בכל המקומות במערכת."]})}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(F,{variant:"secondary",onClick:()=>c(!1),children:"ביטול"}),r.jsx(F,{type:"submit",children:"שמור שינויים"})]})]})})]})};function Fm(){const{data:e,getCurrentBuilding:t,updateCurrentBuilding:n,switchBuilding:s,updateData:l}=ia(),[i,a]=L.useState("dashboard"),u=t();if(!u)return r.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:r.jsx("p",{className:"text-red-600",children:"שגיאה: לא נמצא בניין פעיל"})});const o=()=>{switch(i){case"dashboard":return r.jsx(So,{building:u,onUpdateBuilding:n});case"inventory":return r.jsx(_m,{products:e.inventoryProducts,transactions:e.inventoryTransactions,currentBuilding:u,onUpdateProducts:m=>l(g=>({...g,inventoryProducts:m(g.inventoryProducts)})),onUpdateTransactions:m=>l(g=>({...g,inventoryTransactions:m(g.inventoryTransactions)}))});case"tenants":return r.jsx(Mm,{building:u,onUpdateBuilding:n});case"payments":return r.jsx(Im,{building:u,onUpdateBuilding:n});case"expenses":return r.jsx(Lm,{building:u,onUpdateBuilding:n});case"pettyCash":return r.jsx(Om,{building:u,onUpdateBuilding:n});case"employees":return r.jsx(Rm,{globalEmployees:e.globalEmployees,onUpdateEmployees:m=>l(g=>({...g,globalEmployees:m(g.globalEmployees)}))});case"issues":return r.jsx(Am,{building:u,onUpdateBuilding:n});case"settings":return r.jsx($m,{building:u,onUpdateBuilding:n});default:return r.jsx(So,{building:u,onUpdateBuilding:n})}};return r.jsxs("div",{className:"min-h-screen bg-gray-100",children:[r.jsx(Dm,{title:e.settings.title,buildings:e.buildings,currentBuildingId:e.currentBuildingId,onBuildingChange:s}),r.jsx(Tm,{activeTab:i,onTabChange:a,tabOrder:e.settings.tabOrder}),r.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o()})]})}Rc(document.getElementById("root")).render(r.jsx(L.StrictMode,{children:r.jsx(Fm,{})}));
